<!doctype html>
<html lang="zh"><head><meta charset="utf-8"><meta name="generator" content="Hexo 4.2.1"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta><title>Flutter å¼€å‘å°ç»“ | Tips - Hulk</title><meta description="æ¥è§¦ Flutter å·²ç»æœ‰ä¸€é˜µå­äº†ï¼ŒæœŸé—´è®°å½•äº†å¾ˆå¤šå¼€å‘å°é—®é¢˜ï¼Œè‹¦äºå¿™ç¢Œæ²¡æ—¶é—´æ•´ç†ï¼Œæœ€è¿‘é¡¹ç›®è¿›åº¦æ­¥ä¸Šæ­£è½¨ï¼Œå€Ÿæ­¤æœºä¼šæŠ½å‡ºç‚¹æ—¶é—´æ¥ç»Ÿä¸€è®°å½•è¿™äº›é—®é¢˜ï¼Œå¹¶åˆ†äº«é¡¹ç›®å¼€å‘ä¸­çš„ä¸€ç‚¹å¿ƒå¾—ä»¥åŠå¤šå¹³å°æ‰“åŒ…çš„ä¸€äº›æ³¨æ„äº‹é¡¹ï¼Œå¸Œæœ›èƒ½å¯¹å¤§å®¶æœ‰æ‰€å¸®åŠ©ğŸ˜ã€‚ UI ç»„ä»¶ä½¿ç”¨å®˜æ–¹ä¸ºæˆ‘ä»¬æä¾›äº†å¤§é‡åŸç”Ÿæ•ˆæœçš„ç»„ä»¶ï¼Œå¦‚ä»¥ Android ä¸­å¸¸è§çš„ Material Design ç³»åˆ—ç»„ä»¶å’Œ iOS ç³»ç»Ÿä¸­è®©è®¾è®¡å¸ˆä»¬â€œæ¬²ç½¢ä¸èƒ½â€çš„ Cup"><meta property="og:type" content="blog"><meta property="og:title" content="Flutter å¼€å‘å°ç»“ | Tips"><meta property="og:url" content="https://moosphan.github.io/2020/04/19/flutter-tips/"><meta property="og:site_name" content="Hulk"><meta property="og:description" content="æ¥è§¦ Flutter å·²ç»æœ‰ä¸€é˜µå­äº†ï¼ŒæœŸé—´è®°å½•äº†å¾ˆå¤šå¼€å‘å°é—®é¢˜ï¼Œè‹¦äºå¿™ç¢Œæ²¡æ—¶é—´æ•´ç†ï¼Œæœ€è¿‘é¡¹ç›®è¿›åº¦æ­¥ä¸Šæ­£è½¨ï¼Œå€Ÿæ­¤æœºä¼šæŠ½å‡ºç‚¹æ—¶é—´æ¥ç»Ÿä¸€è®°å½•è¿™äº›é—®é¢˜ï¼Œå¹¶åˆ†äº«é¡¹ç›®å¼€å‘ä¸­çš„ä¸€ç‚¹å¿ƒå¾—ä»¥åŠå¤šå¹³å°æ‰“åŒ…çš„ä¸€äº›æ³¨æ„äº‹é¡¹ï¼Œå¸Œæœ›èƒ½å¯¹å¤§å®¶æœ‰æ‰€å¸®åŠ©ğŸ˜ã€‚ UI ç»„ä»¶ä½¿ç”¨å®˜æ–¹ä¸ºæˆ‘ä»¬æä¾›äº†å¤§é‡åŸç”Ÿæ•ˆæœçš„ç»„ä»¶ï¼Œå¦‚ä»¥ Android ä¸­å¸¸è§çš„ Material Design ç³»åˆ—ç»„ä»¶å’Œ iOS ç³»ç»Ÿä¸­è®©è®¾è®¡å¸ˆä»¬â€œæ¬²ç½¢ä¸èƒ½â€çš„ Cup"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://user-gold-cdn.xitu.io/2020/3/26/17115a56cf9ed307?w=280&amp;h=623&amp;f=png&amp;s=71429"><meta property="og:image" content="https://user-gold-cdn.xitu.io/2020/3/27/1711b0ff509ae515?w=1600&amp;h=1200&amp;f=png&amp;s=210368"><meta property="og:image" content="https://user-gold-cdn.xitu.io/2020/3/26/17115a9407eeccf2?w=200&amp;h=431&amp;f=gif&amp;s=1064911"><meta property="og:image" content="https://user-gold-cdn.xitu.io/2020/3/26/17115ad8e38a8eb0?w=797&amp;h=657&amp;f=png&amp;s=76335"><meta property="og:image" content="https://user-gold-cdn.xitu.io/2020/3/26/17115ac013934e80?w=745&amp;h=450&amp;f=png&amp;s=37091"><meta property="article:published_time" content="2020-04-19T15:37:12.000Z"><meta property="article:modified_time" content="2020-08-20T12:30:02.554Z"><meta property="article:author" content="Hulk"><meta property="article:tag" content="Flutter"><meta property="twitter:card" content="summary"><meta property="twitter:image" content="https://user-gold-cdn.xitu.io/2020/3/26/17115a56cf9ed307?w=280&amp;h=623&amp;f=png&amp;s=71429"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://moosphan.github.io/2020/04/19/flutter-tips/"},"headline":"Hulk","image":[],"datePublished":"2020-04-19T15:37:12.000Z","dateModified":"2020-08-20T12:30:02.554Z","author":{"@type":"Person","name":"Hulk"},"description":"æ¥è§¦ Flutter å·²ç»æœ‰ä¸€é˜µå­äº†ï¼ŒæœŸé—´è®°å½•äº†å¾ˆå¤šå¼€å‘å°é—®é¢˜ï¼Œè‹¦äºå¿™ç¢Œæ²¡æ—¶é—´æ•´ç†ï¼Œæœ€è¿‘é¡¹ç›®è¿›åº¦æ­¥ä¸Šæ­£è½¨ï¼Œå€Ÿæ­¤æœºä¼šæŠ½å‡ºç‚¹æ—¶é—´æ¥ç»Ÿä¸€è®°å½•è¿™äº›é—®é¢˜ï¼Œå¹¶åˆ†äº«é¡¹ç›®å¼€å‘ä¸­çš„ä¸€ç‚¹å¿ƒå¾—ä»¥åŠå¤šå¹³å°æ‰“åŒ…çš„ä¸€äº›æ³¨æ„äº‹é¡¹ï¼Œå¸Œæœ›èƒ½å¯¹å¤§å®¶æœ‰æ‰€å¸®åŠ©ğŸ˜ã€‚ UI ç»„ä»¶ä½¿ç”¨å®˜æ–¹ä¸ºæˆ‘ä»¬æä¾›äº†å¤§é‡åŸç”Ÿæ•ˆæœçš„ç»„ä»¶ï¼Œå¦‚ä»¥ Android ä¸­å¸¸è§çš„ Material Design ç³»åˆ—ç»„ä»¶å’Œ iOS ç³»ç»Ÿä¸­è®©è®¾è®¡å¸ˆä»¬â€œæ¬²ç½¢ä¸èƒ½â€çš„ Cup"}</script><link rel="canonical" href="https://moosphan.github.io/2020/04/19/flutter-tips/"><link rel="icon" href="/img/favicon.png"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.12.0/css/all.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/atom-one-light.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;600&amp;family=Source+Code+Pro"><link rel="stylesheet" href="/css/default.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><!--!--><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/css/justifiedGallery.min.css"><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script></head><body class="is-3-column"><nav class="navbar navbar-main"><div class="container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img src="/img/logo.png" alt="Hulk" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/archives">Home</a><a class="navbar-item" href="/archives">Archives</a><a class="navbar-item" href="/categories">Categories</a><a class="navbar-item" href="/tags">Tags</a><a class="navbar-item" href="/about">About</a></div><div class="navbar-end"><a class="navbar-item" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/ppoffice/hexo-theme-icarus"><i class="fab fa-github"></i></a><a class="navbar-item is-hidden-tablet catalogue" title="ç›®å½•" href="javascript:;"><i class="fas fa-list-ul"></i></a><a class="navbar-item search" title="æœç´¢" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-6-widescreen"><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2020-04-19T15:37:12.000Z" title="2020-04-19T15:37:12.000Z">2020-04-19</time><span class="level-item"><a class="link-muted" href="/categories/Flutter/">Flutter</a></span><span class="level-item">41 åˆ†é’Ÿ è¯»å®Œ (å¤§çº¦ 6149 ä¸ªå­—)</span></div></div><h1 class="title is-3 is-size-4-mobile">Flutter å¼€å‘å°ç»“ | Tips</h1><div class="content"><p>æ¥è§¦ Flutter å·²ç»æœ‰ä¸€é˜µå­äº†ï¼ŒæœŸé—´è®°å½•äº†å¾ˆå¤šå¼€å‘å°é—®é¢˜ï¼Œè‹¦äºå¿™ç¢Œæ²¡æ—¶é—´æ•´ç†ï¼Œæœ€è¿‘é¡¹ç›®è¿›åº¦æ­¥ä¸Šæ­£è½¨ï¼Œå€Ÿæ­¤æœºä¼šæŠ½å‡ºç‚¹æ—¶é—´æ¥ç»Ÿä¸€è®°å½•è¿™äº›é—®é¢˜ï¼Œå¹¶åˆ†äº«é¡¹ç›®å¼€å‘ä¸­çš„ä¸€ç‚¹å¿ƒå¾—ä»¥åŠå¤šå¹³å°æ‰“åŒ…çš„ä¸€äº›æ³¨æ„äº‹é¡¹ï¼Œå¸Œæœ›èƒ½å¯¹å¤§å®¶æœ‰æ‰€å¸®åŠ©ğŸ˜ã€‚</p>
<h3 id="UI-ç»„ä»¶ä½¿ç”¨"><a href="#UI-ç»„ä»¶ä½¿ç”¨" class="headerlink" title="UI ç»„ä»¶ä½¿ç”¨"></a>UI ç»„ä»¶ä½¿ç”¨</h3><p>å®˜æ–¹ä¸ºæˆ‘ä»¬æä¾›äº†å¤§é‡åŸç”Ÿæ•ˆæœçš„ç»„ä»¶ï¼Œå¦‚ä»¥ Android ä¸­å¸¸è§çš„ <strong>Material Design</strong> ç³»åˆ—ç»„ä»¶å’Œ iOS ç³»ç»Ÿä¸­è®©è®¾è®¡å¸ˆä»¬â€œæ¬²ç½¢ä¸èƒ½â€çš„ <strong>Cupertino</strong> ç³»åˆ—ç»„ä»¶ã€‚ä»æˆ‘è¿™ä¸€ä¸ªæœˆå·¦å³å¯¹äº Flutter UI ç»„ä»¶çš„ä½¿ç”¨æƒ…å†µæ¥çœ‹ï¼Œä¸å¾—ä¸æ„Ÿæ…¨ä¸€å¥ï¼šâ€œçœŸé¦™â€ã€‚ç”±äºæœ¬äººä¹‹å‰æ˜¯åš Android å¼€å‘çš„ï¼Œæ‰€ä»¥å¯¹äº Android æ–¹é¢çš„ä¸€äº›â€œè¯Ÿç—…â€æ·±æœ‰ä½“ä¼šã€‚ä¾‹å¦‚ï¼Œè®¾è®¡å¸ˆç»å¸¸è®©æˆ‘ä»¬è¿˜åŸè®¾è®¡ç¨¿ä¸­çš„é˜´å½±æ•ˆæœï¼Œä¸€èˆ¬éœ€è¦è®¾ç½®é˜´å½±é¢œè‰²ã€x/yåç§»é‡å’Œæ¨¡ç³Šåº¦ç­‰ï¼Œç„¶è€Œ Android åŸç”Ÿå¹¶æ²¡æœ‰æä¾›æ”¯æŒæ‰€æœ‰è¿™äº›å±æ€§çš„ä¸€æ¬¾ç»„ä»¶ï¼Œæ‰€ä»¥åªèƒ½æˆ‘ä»¬è‡ªå·±é€šè¿‡è‡ªå®šä¹‰æ§ä»¶å»å®ç°ï¼Œç°åœ¨è¿˜æœ‰å¤šå°‘äººä¾ç„¶é€šè¿‡ CardView æ¥â€œé±¼ç›®æ··ç â€å‘¢ï¼Ÿç„¶è€Œï¼Œåœ¨ Flutter ä¸­å°±æ— éœ€æ‹…å¿ƒè¿™ç§é—®é¢˜ï¼Œé€šè¿‡ç±»ä¼¼å‰ç«¯ä¸­å¸¸ç”¨çš„ç›’å­ç»„ä»¶â€”â€” Container å°±å¯ä»¥è½»æ¾å®ç°ã€‚</p>
<p>å½“ç„¶ï¼ŒFlutter è™½ç„¶å¾ˆå¼ºå¤§ï¼Œä½† UI ç»„ä»¶ä¹Ÿä¸æ˜¯ä¸‡èƒ½çš„ï¼Œè·¨å¹³å°ä¹‹è·¯æ³¨å®šæ¼«é•¿è€Œå¸ƒæ»¡è†æ£˜ï¼Œå¶å°”ä¹Ÿä¼šä¼´éšç€ä¸€äº›å°é—®é¢˜ã€‚<a id="more"></a></p>
<h4 id="TextField"><a href="#TextField" class="headerlink" title="TextField"></a>TextField</h4><ul>
<li><p><strong>è½¯é”®ç›˜å¼¹èµ·åç»„ä»¶æº¢å‡ºçš„é—®é¢˜</strong></p>
<p>ç”±äºé¡µé¢ä¸æ”¯æŒæ»šåŠ¨ï¼Œä¸€æ—¦ä½¿ç”¨ TextFieldï¼Œè½¯é”®ç›˜å¼¹èµ·åå¾ˆå®¹æ˜“ä¼šè¦†ç›–ä¸€äº›UIç»„ä»¶ï¼Œå¦‚æœä¸ä»¥ä¸ºæ„ï¼Œé‚£ä¹ˆä¸‹é¢è¿™ä¸ªé—®é¢˜å°±ä¼šæˆä¸ºâ€œå®¶å¸¸ä¾¿é¥­â€ï¼š</p>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">A RenderFlex overflowed by xx pixels on the bottom.</span><br></pre></td></tr></table></figure>

<p>å¸¸ç”¨çš„è§£å†³æ–¹æ¡ˆå°±æ˜¯é€šè¿‡åµŒå¥—ä¸€å±‚ <code>SingleChildScrollView</code> æ¥è§„é¿ï¼Œå½“è½¯é”®ç›˜å¼¹èµ·æ—¶ï¼Œä¸‹æ–¹çš„ç»„ä»¶ä¼šè¢«è½¯é”®ç›˜è‡ªåŠ¨é¡¶ä¸Šå»ã€‚</p>
</li>
<li><p><strong>HintText ä¸å±…ä¸­é—®é¢˜</strong></p>
<p>è¿™ä¸ªé—®é¢˜å¾ˆå¤šäººåº”è¯¥éƒ½é‡åˆ°è¿‡ï¼Œå½“æˆ‘ä»¬åœ¨é¡¹ç›®ä¸­è®¾ç½®ä¸­æ–‡ Locale åï¼Œåœ¨ TextField çš„ InputDecoration ä¸­è®¾ç½® <code>hintText</code> æ—¶ï¼Œä¼šå‘ç°æç¤ºæ–‡æœ¬å‘ä¸‹åç§»å‡ ä¸ªåƒç´ ï¼Œè¿™åº”è¯¥å±äº Flutter çš„bugã€‚å¦‚ä½•è§£å†³è¿™ä¸ªé—®é¢˜å‘¢ï¼Ÿå¾ˆç®€å•ï¼Œåªéœ€è¦è®¾ç½® <code>textBaseine</code> å±æ€§ï¼Œå¦‚ä¸‹ä»£ç æ‰€ç¤ºï¼š</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">TextFormField(</span><br><span class="line">     decoration: InputDecoration(</span><br><span class="line">     		prefixIcon: Icon(</span><br><span class="line">            Icons.lock_outline</span><br><span class="line">        ),</span><br><span class="line">        hintText: S.of(context).loginPasswordHint,</span><br><span class="line">     ),</span><br><span class="line">     style: TextStyle(</span><br><span class="line">       	<span class="comment">/// <span class="markdown">handle hint text offset problem.</span></span></span><br><span class="line">        textBaseline: TextBaseline.alphabetic</span><br><span class="line">     ),</span><br><span class="line">     keyboardType: TextInputType.number,</span><br><span class="line">     onSaved: (password) &#123;&#125;,</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<p>å…·ä½“å¯å‚è€ƒï¼š<a href="https://github.com/flutter/flutter/issues/40118">https://github.com/flutter/flutter/issues/40118</a></p>
</li>
<li><p><strong>ç„¦ç‚¹é—®é¢˜</strong></p>
<p>è¾“å…¥æ¡†çš„ç„¦ç‚¹é—®é¢˜ä¸»è¦ä½“ç°åœ¨ä¸¤ç‚¹ï¼š</p>
<ol>
<li>å‰å¾€å¦ä¸€ä¸ªé¡µé¢è¿”å›åè‡ªåŠ¨å¼¹å‡ºäº†è½¯é”®ç›˜ï¼ˆå³è‡ªåŠ¨è·å–äº†ç„¦ç‚¹ï¼‰</li>
<li>iOSæ‰‹æœºä¸Šåˆ‡æ¢è‡³æ•°å­—é”®ç›˜åæ— æ³•å…³é—­è½¯é”®ç›˜</li>
</ol>
<p>è¿™ä¸¤ä¸ªé—®é¢˜å…¶å®éƒ½å¯ä»¥å€ŸåŠ© <code>FocusNode</code> æ¥è§£å†³ï¼Œå…ˆæ¥çœ‹ä¸‹é¢ä¸€æ®µä»£ç ï¼š</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">FocusNode _writingFocusNode = FocusNode();</span><br><span class="line">...</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">void</span> _clearTextFieldFocus() &#123;</span><br><span class="line">    <span class="keyword">if</span> (_writingFocusNode.hasFocus) &#123;</span><br><span class="line">      _writingFocusNode.unfocus();</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>

<p>ä¸Šè¿°ä»£ç åˆ›å»ºäº†ä¸€ä¸ª <code>FocusNode</code> å¯¹è±¡ï¼Œå¹¶å£°æ˜äº†ç§»é™¤ç„¦ç‚¹çš„æ–¹æ³•ï¼Œç›¸ä¿¡å¤§å®¶ä¸éš¾åˆ¤æ–­å‡ºã€‚æ­¤å¤–ï¼Œæˆ‘ä»¬éœ€è¦ç»™ <code>TextField</code> çš„ <code>focusNode</code> å±æ€§ä¼ å…¥æˆ‘ä»¬åˆ›å»ºçš„ <code>_writingFocusNode</code>ã€‚é—®é¢˜ä¸€ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨é¡µé¢è·³è½¬å‰å…ˆç§»é™¤ç„¦ç‚¹ï¼Œè¿™æ ·ï¼Œä»äºŒçº§é¡µé¢è¿”å›åè¾“å…¥æ¡†å°±ä¸ä¼šè‡ªåŠ¨å¼¹å‡ºè½¯é”®ç›˜ã€‚é—®é¢˜äºŒä¸­ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ç”¨æˆ·ç‚¹å‡»ç©ºç™½åŒºåŸŸåè‡ªåŠ¨ç§»é™¤ç„¦ç‚¹ï¼ˆå…³é—­è½¯é”®ç›˜ï¼‰ï¼Œä»¥ä¸‹ä»£ç ä¾›å‚è€ƒï¼š</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line">Widget _buildInputArea() =&gt;</span><br><span class="line">      Stack(</span><br><span class="line">        children: &lt;Widget&gt;[</span><br><span class="line">          <span class="comment">// é€šè¿‡ç©ºç™½åŒºåŸŸçš„ç‚¹å‡»äº‹ä»¶æ¥å…³é—­è½¯é”®ç›˜</span></span><br><span class="line">          GestureDetector(</span><br><span class="line">            onTap: () &#123;</span><br><span class="line">              _clearTextFieldFocus();</span><br><span class="line">            &#125;,</span><br><span class="line">            child: Container(</span><br><span class="line">              <span class="comment">/// <span class="markdown">æ­¤å¤„æ³¨æ„è®¾ç½®èƒŒæ™¯é¢œè‰²ï¼Œå¦åˆ™é»˜è®¤é€æ˜è‰²å¯èƒ½ä¼šç©¿é€ï¼Œæ— æ³•å“åº”ç‚¹å‡»äº‹ä»¶</span></span></span><br><span class="line">              color: AppTheme.surfaceColor,</span><br><span class="line">              width: MediaQuery.of(context).size.width,</span><br><span class="line">              height: MediaQuery.of(context).size.height,</span><br><span class="line">            ),</span><br><span class="line">          ),</span><br><span class="line">          Column(</span><br><span class="line">            children: &lt;Widget&gt;[</span><br><span class="line">              ScreenUtils.verticalSpace(<span class="number">32</span>),</span><br><span class="line">              <span class="comment">// account input edit text</span></span><br><span class="line">              Padding(</span><br><span class="line">                padding: EdgeInsets.only(bottom: AutoSize.covert.dpToDp(<span class="number">12</span>)),</span><br><span class="line">                child: TextField(</span><br><span class="line">                  controller: _accountTextController,</span><br><span class="line">                  decoration: InputDecoration(</span><br><span class="line">                    prefixIcon: Padding(</span><br><span class="line">                      padding: EdgeInsets.all(AutoSize.covert.dpToDp(<span class="number">12</span>)),</span><br><span class="line">                      child: ImageIcon(AssetImage(ImageAssets.ic_login_user_input)),</span><br><span class="line">                    ),</span><br><span class="line">                    hintText: S.of(context).loginAccountHint,</span><br><span class="line"></span><br><span class="line">                  ),</span><br><span class="line">                  keyboardType: TextInputType.number,</span><br><span class="line">                ),</span><br><span class="line">              ),</span><br><span class="line"></span><br><span class="line">              <span class="comment">// password input edit text</span></span><br><span class="line">              Padding(</span><br><span class="line">                padding: EdgeInsets.only(bottom: AutoSize.covert.dpToDp(<span class="number">12</span>)),</span><br><span class="line">                child: ValueListenableBuilder(</span><br><span class="line">                  valueListenable: obscureTextModel,</span><br><span class="line">                  builder: (context, value, child) =&gt; TextField(</span><br><span class="line">                    controller: _passwordTextController,</span><br><span class="line">                    obscureText: value,</span><br><span class="line">                    decoration: InputDecoration(</span><br><span class="line">                      prefixIcon: Padding(</span><br><span class="line">                        padding: EdgeInsets.all(AutoSize.covert.dpToDp(<span class="number">12</span>)),</span><br><span class="line">                        child: ImageIcon(AssetImage(ImageAssets.ic_login_pwd_input)),</span><br><span class="line">                      ),</span><br><span class="line">                      suffixIcon: IconButton(</span><br><span class="line">                          icon: Icon(value ? Icons.visibility_off : Icons.visibility, size: AutoSize.covert.dpToDp(<span class="number">20</span>)),</span><br><span class="line">                          onPressed: () &#123;</span><br><span class="line">                            obscureTextModel.value = !value;</span><br><span class="line">                          &#125;</span><br><span class="line">                      ),</span><br><span class="line">                      hintText: S.of(context).loginPasswordHint,</span><br><span class="line">                    ),</span><br><span class="line">                    keyboardType: TextInputType.text,</span><br><span class="line">                  ),</span><br><span class="line">                ),</span><br><span class="line">              ),</span><br><span class="line">            ],</span><br><span class="line">          ),</span><br><span class="line">        ],</span><br><span class="line">      );</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h4 id="Container"><a href="#Container" class="headerlink" title="Container"></a>Container</h4><ul>
<li><p>ç›’å­æ¨¡å‹ç‰¹ç‚¹</p>
<p>å¯¹äºæ¥è§¦è¿‡å‰ç«¯çš„äººæ¥è¯´ï¼Œåº”è¯¥éƒ½é¢†ç•¥è¿‡â€œç›’å­æ¨¡å‹â€çš„å¼ºå¤§äº†ï¼Œæ‰€ä»¥ï¼ŒContainer çš„å¼ºå¤§ä¹‹å¤„ç›¸ä¿¡ä¹Ÿä¸ç”¨æˆ‘å¤šè¯´äº†ï¼šå®ƒå‡ ä¹æ˜¯ä¸€ä¸ªä¸‡èƒ½çš„â€œå®¹å™¨â€ï¼Œæ—¢èƒ½è®¾ç½® marginã€paddingã€aligmentï¼Œåˆå¯ä»¥è£…é¥°å®ƒçš„èƒŒæ™¯ docoration å±æ€§ï¼Œä¾‹å¦‚é˜´å½±æ•ˆæœã€æ¸å˜è‰²ã€åœ†è§’æ•ˆæœç­‰ç­‰ã€‚</p>
</li>
<li><p>è®¾ç½®èƒŒæ™¯è‰²é—®é¢˜</p>
<p>Containerè™½å¥½ï¼Œä½†ä¹Ÿéœ€è¦åœ¨ä½¿ç”¨æ—¶æ³¨æ„ä¸€äº›é—®é¢˜ï¼Œä¾‹å¦‚ï¼Œå®ƒçš„æºç æ³¨é‡Šä¸­å°±è¯´åˆ°ï¼šæˆ‘ä»¬å¯ä»¥é€šè¿‡ <code>color</code> å’Œ <code>decoration</code> æ¥è®¾ç½®ç›’å­èƒŒæ™¯ï¼Œä½†ä¸¤è€…å´ä¸èƒ½åŒæ—¶å­˜åœ¨ï¼Œå¦‚æœæˆ‘ä»¬æ—¢å¸Œæœ›ä¿ç•™èƒŒæ™¯è‰²ï¼Œåˆæƒ³ä½¿ç”¨è£…é¥°å™¨ (decoration)ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥è®¾ç½® <code>BoxDecoration</code> çš„ <code>color</code> å±æ€§ã€‚ </p>
</li>
</ul>
<h4 id="SafeArea"><a href="#SafeArea" class="headerlink" title="SafeArea"></a>SafeArea</h4><p>Androidä¸­å­˜åœ¨çŠ¶æ€æ ã€åº•éƒ¨å¯¼èˆªæ ï¼Œè€Œ iOS ä¸­ä¹Ÿå­˜åœ¨çŠ¶æ€æ å’Œâ€åº•éƒ¨å¯¼èˆªæ¡â€ï¼Œæ‰€ä»¥å¦‚æœæˆ‘ä»¬é¡µé¢ä¸­çš„<strong>è¾¹ç•Œéƒ¨åˆ†</strong>éœ€è¦å›ºå®šæ˜¾ç¤ºä¸€äº›å°ç»„ä»¶ï¼Œé‚£ä¹ˆæˆ‘ä»¬æœ€å¥½èƒ½å¤Ÿåœ¨æœ€å¤–å±‚åµŒå¥—ä¸€å±‚ <code>SafeArea</code> ç»„ä»¶ï¼Œå³è®©UIç»„ä»¶å¤„äºâ€œå®‰å…¨åŒºåŸŸâ€ï¼Œä¸è‡³äºå¼•èµ·é€‚é…é—®é¢˜ã€‚</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Material( </span><br><span class="line">  color: AppTheme.surfaceColor,</span><br><span class="line">  child: SafeArea(</span><br><span class="line">    child: Container(),</span><br><span class="line">  ),</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<h4 id="åˆ—è¡¨ç»„ä»¶"><a href="#åˆ—è¡¨ç»„ä»¶" class="headerlink" title="åˆ—è¡¨ç»„ä»¶"></a>åˆ—è¡¨ç»„ä»¶</h4><p>Flutterä¸­å¸¸è§çš„åˆ—è¡¨ç»„ä»¶æœ‰ ListViewã€GridViewã€PageView ç­‰ï¼Œä¸€ä¸ªå®Œæ•´çš„åº”ç”¨è‚¯å®šä¹Ÿç¦»ä¸å¼€è¿™äº›ç»„ä»¶ã€‚æˆ‘ä»¬åœ¨ä½¿ç”¨æ—¶ï¼Œéœ€è¦ç•™æ„ä»¥ä¸‹å‡ ç‚¹ï¼š</p>
<ul>
<li><p><strong>Vertical viewport was given unbounded height é—®é¢˜</strong></p>
<p>ä½œä¸ºåˆå­¦è€…ï¼Œæˆ‘ä»¬åœ¨åˆæœŸåº”è¯¥éƒ½ç¢°åˆ°è¿‡è¿™ä¸ªé—®é¢˜ï¼šVertical/Horizontal viewport was given unbounded heightï¼Œè¿™æ˜¯ç”±äºæˆ‘ä»¬æ²¡æœ‰ç»™åˆ—è¡¨ç»„ä»¶æŒ‡å®šé«˜åº¦æˆ–è€…å®½åº¦è€Œå¼•èµ·çš„ï¼Œä¸€èˆ¬å‡ºç°åœºæ™¯æ˜¯åœ¨ <code>Column </code> ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ç»™åˆ—è¡¨ç»„ä»¶åŒ…è£¹ä¸€å±‚ç›’å­æˆ–è€…è¢« <code>Expanded</code> åŒ…è£¹ï¼Œè®©å…¶å°½å¯èƒ½å æ®æœ€å¤§ç©ºé—´ï¼š</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">Column(</span><br><span class="line">	children:[</span><br><span class="line">		...,</span><br><span class="line">		Expanded(</span><br><span class="line">                  child: GridView.builder(</span><br><span class="line">              ....</span><br><span class="line">                  )           </span><br><span class="line">    	        )</span><br><span class="line">       )</span><br><span class="line">  ]</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>physics å±æ€§</strong></p>
<p>åšè¿‡åŸç”Ÿå¼€å‘çš„éƒ½çŸ¥é“ï¼Œåœ¨ Android ä¸­ï¼Œæ”¯æŒæ»šåŠ¨çš„ç»„ä»¶æ»‘åˆ°é¡¶æˆ–è€…æ»‘åˆ°åº•åè‡ªå¸¦ colorPrimary è‰²è°ƒçš„æ°´æ³¢çº¹æ•ˆæœï¼Œè‡³äºiOSï¼Œåˆ™æ˜¯è¶Šç•Œå›å¼¹æ•ˆæœã€‚ä½ æ‹¿ç€ Android ä¸­çš„é»˜è®¤æ•ˆæœå»ç»™è®¾è®¡å¸ˆçœ‹ï¼Œâ€œäº²æœå…šâ€çš„ä»–ä»¬è‚¯å®šä¸å¹²äº†ï¼Œç¡¬æ˜¯è®©ä½ æ”¹æˆ iOS çš„å›å¼¹æ•ˆæœã€‚æ‰€å¹¸ï¼ŒFlutter æ—©å°±è€ƒè™‘åˆ°äº†è¿™ä¸€ç‚¹ï¼Œæ”¯æŒæ»‘åŠ¨çš„ç»„ä»¶ä¸­éƒ½æä¾›äº† <code>physics</code> å±æ€§ï¼Œåªéœ€è¦å°†å…¶è®¾ç½®ä¸º <code>BouncingScrollPhysics</code> å°±èƒ½å®Œç¾å®ç°å›å¼¹æ•ˆæœã€‚åŒæ—¶ï¼Œphysics è¿˜æœ‰å…¶ä»–å±æ€§ï¼Œè¿™é‡Œä¸å†ä¸€ä¸€ä»‹ç»ï¼Œå¤§å®¶å¯ä»¥å»æŸ¥çœ‹ç›¸å…³æ–‡æ¡£å’Œæºç ï¼Œè¿™é‡Œæä¸€ä¸‹ <code>NeverScrollableScrollPhysics</code>ï¼Œå³ç¦æ­¢æ»‘åŠ¨ã€‚è¿™ä¸ªæœ‰ä»€ä¹ˆç”¨å‘¢ï¼Ÿå…¶å®è¿˜æ˜¯æŒºæœ‰ç”¨çš„ï¼Œæ¯”å¦‚åµŒå¥—çš„ä¸¤ä¸ªæ»‘åŠ¨ç»„ä»¶ä¸­å°±å¯ä»¥å°†å…¶ä¸­ä¸€ä¸ªçš„ physics å±æ€§è®¾ç½®ä¸º <code>NeverScrollableScrollPhysics</code>ï¼Œè¿™æ ·å¯ä»¥ç®€å•å¿«é€Ÿè§£å†³æ»‘åŠ¨å†²çªã€‚æ­¤å¤–ï¼Œæœ‰äº›ç‰¹æ®Šåœºæ™¯æˆ‘ä»¬å¯èƒ½ä¸å¸Œæœ›ç”¨æˆ·å¯ä»¥æ»‘åŠ¨ï¼Œè€Œæ˜¯é€šè¿‡æŒ‰é’®ç‚¹å‡»æ¥æ§åˆ¶åˆ—è¡¨æ»‘åŠ¨ï¼Œè¿™æ—¶å€™ï¼Œè®¾ç½®è¯¥å±æ€§å°±å†å¥½ä¸è¿‡å•¦ã€‚</p>
</li>
</ul>
<h4 id="è‡ªå®šä¹‰å¼¹çª—"><a href="#è‡ªå®šä¹‰å¼¹çª—" class="headerlink" title="è‡ªå®šä¹‰å¼¹çª—"></a>è‡ªå®šä¹‰å¼¹çª—</h4><p>Flutter ä¸ºæˆ‘ä»¬æä¾›äº†ä¸€äº›å†…ç½®çš„å®šåˆ¶å¼¹çª—ï¼Œè¿™é‡Œä¸å†ä¸€ä¸€è¯´æ˜äº†ã€‚å¦‚ä½•è‡ªå®šä¹‰å¼¹çª—ï¼Ÿå…¶å®å¾ˆç®€å•ï¼Œåªéœ€è¦æ˜ç™½ï¼šå¼¹çª—å³é¡µé¢ã€‚ä»¥ä¸‹é¢çš„æ•ˆæœä¸ºä¾‹ï¼š</p>
<p><img src="https://user-gold-cdn.xitu.io/2020/3/26/17115a56cf9ed307?w=280&h=623&f=png&s=71429" alt="è‡ªå®šä¹‰å¼¹çª—æ•ˆæœå›¾"></p>
<p>ç›¸ä¿¡å¯¹äºå¤§å®¶æ¥è¯´ï¼Œä¸Šé¢çš„UIé¡µé¢å®ç°èµ·æ¥å¹¶ä¸å›°éš¾ï¼Œé‚£æˆ‘ä»¬ç¦» Dialog æ•ˆæœä»…å‰©ä¸€æ­¥ä¹‹é¥äº†ï¼šç‚¹å‡»ç©ºç™½åŒºåŸŸå…³é—­ã€‚å…¶å®ï¼Œåœ¨ä¸Šé¢çš„æŸæ®µä»£ç ä¸­æˆ‘å·²ç»è´´äº†å…³é”®ä»£ç ï¼Œç»†å¿ƒçš„å°ä¼™ä¼´åº”è¯¥ä¹Ÿå¯Ÿè§‰åˆ°äº†ï¼Œæ²¡é”™ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ <code>Stack</code> ç»„ä»¶åŒ…è£¹åŠé€æ˜è’™å±‚ï¼ˆå¦‚Containerï¼‰å’Œåˆ†äº«åŠŸèƒ½ç»„ä»¶ï¼Œæˆ‘ä»¬åªéœ€ä¸ºåŠé€æ˜è’™å±‚å¢åŠ ç‚¹å‡»äº‹ä»¶å³å¯ï¼š</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">Stack(</span><br><span class="line">        children: &lt;Widget&gt;[</span><br><span class="line">          <span class="comment">// é€šè¿‡ç©ºç™½åŒºåŸŸçš„ç‚¹å‡»äº‹ä»¶æ¥å…³é—­å¼¹çª—</span></span><br><span class="line">          GestureDetector(</span><br><span class="line">            onTap: () &#123;</span><br><span class="line">            	<span class="comment">//å…³é—­å¼¹çª—</span></span><br><span class="line">              Navigator.maybePop(context);</span><br><span class="line">            &#125;,</span><br><span class="line">            child: Container(</span><br><span class="line">              color: AppTheme.dialogBackgroundColor,</span><br><span class="line">              width: MediaQuery.of(context).size.width,</span><br><span class="line">              height: MediaQuery.of(context).size.height,</span><br><span class="line">            ),</span><br><span class="line">          ),</span><br><span class="line">          Container(</span><br><span class="line">          	child: ...</span><br><span class="line">          )</span><br><span class="line">     )</span><br></pre></td></tr></table></figure>

<p>å“ˆå“ˆï¼Œæ˜¯ä¸æ˜¯æœ‰ç§æç„¶å¤§æ‚Ÿçš„æ„Ÿè§‰ï¼Œå¦‚æ­¤ä¸€æ¥ï¼Œå¼¹çª—å¯¹äºæˆ‘ä»¬æ¥è¯´ä¸å°±æ˜¯å†™ä¸€ä¸ªé¡µé¢é‚£ä¹ˆç®€å•äº†å—ğŸ˜„ã€‚</p>
<h4 id="InkWell"><a href="#InkWell" class="headerlink" title="InkWell"></a>InkWell</h4><p>InkWell åœ¨ Android ä¸­æ¯”è¾ƒå¸¸è§ï¼Œä¿—ç§°â€œæ°´æ³¢çº¹â€æ•ˆæœï¼Œå±äºæŒ‰é’®çš„ä¸€ç§ï¼Œå®ƒæ”¯æŒè®¾ç½®æ³¢çº¹é¢œè‰²ã€åœ†è§’ç­‰å±æ€§ã€‚æˆ‘ä»¬å¶å°”å¯èƒ½ä¼šé‡åˆ°æ°´æ³¢çº¹å¤±æ•ˆçš„é—®é¢˜ï¼Œè¿™ä¸€èˆ¬æ˜¯å› ä¸ºæˆ‘ä»¬åœ¨ <code>InkWell</code> å†…éƒ¨çš„ child ä¸­è®¾ç½®äº†èƒŒæ™¯ï¼Œä»è€Œå¯¼è‡´æ°´æ³¢çº¹æ•ˆæœè¢«é®ç›–ã€‚å¦‚ä½•è§£å†³è¿™ä¸ªé—®é¢˜ï¼Ÿå…¶å®å¾ˆç®€å•ï¼Œåªéœ€è¦åœ¨ <code>InkWell</code> å¤–å±‚å¥—ä¸Š <code>Material</code> å¹¶è®¾ç½® <code>color</code> å³å¯:</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">Material(</span><br><span class="line">  color: Colors.white,</span><br><span class="line">  child: InkWell(</span><br><span class="line">    borderRadius: AppTheme.buttonRadius, <span class="comment">// åœ†è§’</span></span><br><span class="line">    splashColor: AppTheme.splashColor,   <span class="comment">// æ³¢çº¹é¢œè‰²</span></span><br><span class="line">    highlightColor: Colors.transparent,  <span class="comment">// ç‚¹å‡»çŠ¶æ€</span></span><br><span class="line">    onTap: () &#123;&#125;,												 <span class="comment">// ç‚¹å‡»äº‹ä»¶</span></span><br><span class="line">    child: Container(</span><br><span class="line">      ...</span><br><span class="line">    ),</span><br><span class="line">  ),</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<p>æˆ–è€…ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥å€ŸåŠ©äºä¹‹å‰å®ç°è‡ªå®šä¹‰ Dialog çš„æ€è·¯ï¼Œä½¿ç”¨ <code>Stack</code> åŒ…è£¹éœ€è¦ç‚¹å‡»çš„åŒºåŸŸï¼Œå¹¶å°† <code>InkWell</code> æ”¾åœ¨ä¸Šå±‚ï¼š</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">Stack(</span><br><span class="line">          children: &lt;Widget&gt;[</span><br><span class="line">            Image(),</span><br><span class="line">            Material(</span><br><span class="line">                color: Colors.transparent,</span><br><span class="line">                child: InkWell(</span><br><span class="line">                  splashColor: AppTheme.splashColor,</span><br><span class="line">                  onTap: () &#123;&#125;,</span><br><span class="line">                ),</span><br><span class="line">              )</span><br><span class="line">            )</span><br><span class="line">          ],</span><br><span class="line">        )</span><br></pre></td></tr></table></figure>
<h4 id="IconButton"><a href="#IconButton" class="headerlink" title="IconButton"></a>IconButton</h4><p>å’Œä¸Šé¢ <code>InkWell</code> ä¸€æ ·ï¼ŒIconButton åŒæ ·å¯èƒ½æœ‰ç±»ä¼¼ç‚¹å‡»æ•ˆæœé—®é¢˜ï¼Œä¸ä¸Šé¢è§£å†³æ–¹æ³•å¤§åŒå°å¼‚ï¼š</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">Material(</span><br><span class="line">        type: MaterialType.circle,</span><br><span class="line">        color: Colors.transparent,</span><br><span class="line">        clipBehavior: Clip.antiAlias,</span><br><span class="line">        child: IconButton(</span><br><span class="line">            onPressed: () =&gt; Share.share(S.of(context).commonWhoAppShareIconButtonDescription),</span><br><span class="line">            icon: Icon(</span><br><span class="line">                Icons.share,</span><br><span class="line">                size: <span class="number">22</span>,</span><br><span class="line">            )</span><br><span class="line">        ),</span><br><span class="line">),</span><br></pre></td></tr></table></figure>



<h4 id="Theme-ç›¸å…³"><a href="#Theme-ç›¸å…³" class="headerlink" title="Theme ç›¸å…³"></a>Theme ç›¸å…³</h4><p>Androidä¸­çš„ Theme ç›¸ä¿¡å¤§å®¶ä¹Ÿä¸é™Œç”Ÿäº†ï¼Œå®ƒèƒ½å¤Ÿå®šåˆ¶åŒ–æˆ‘ä»¬æŸç±»ç»„ä»¶çš„é£æ ¼ ï¼Œèƒ½å¤Ÿå¤§å¹…åº¦å‡å°‘é‡å¤ä»£ç å’Œå·¥ä½œé‡ã€‚Flutter ä¸­ä¹Ÿæä¾›äº† Theme æ¥è®©æˆ‘ä»¬é…ç½®å’Œå¤ç”¨å…¨å±€ç»„ä»¶çš„æ ·å¼ã€‚æ­£å¸¸æ¥è¯´ï¼Œæˆ‘ä»¬åº”ç”¨çš„é«˜ä¿çœŸè®¾è®¡å›¾ä¸­çš„ä¸€ç±»ç»„ä»¶ä¸€èˆ¬é£æ ¼ç›¸ä¼¼ï¼Œå¦‚ï¼š</p>
<p><img src="https://user-gold-cdn.xitu.io/2020/3/27/1711b0ff509ae515?w=1600&h=1200&f=png&s=210368" alt="é«˜ä¿çœŸThemeç¤ºä¾‹"></p>
<p>ä¸Šå›¾ä¸¤ä¸ªé¡µé¢çš„æŒ‰é’®æ ·å¼åº”è¯¥æ˜¯ä¸€æ ·çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥æŠ½ç¦»æˆ Themeï¼Œå…¶ä»–ç»„ä»¶åŒç†ã€‚å¯åšå¦‚ä¸‹é…ç½®(ä»…ä¾›å‚è€ƒ)ï¼š</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">AppTheme</span> </span>&#123;</span><br><span class="line">  AppTheme._();</span><br><span class="line"></span><br><span class="line">  <span class="comment">/// <span class="markdown">common colors used in theme, text, background or borders</span></span></span><br><span class="line">  <span class="keyword">static</span> <span class="keyword">const</span> Color primaryColor = Color(<span class="number">0xFF92C9AA</span>);</span><br><span class="line">  <span class="keyword">static</span> <span class="keyword">const</span> Color secondaryColor = Color(<span class="number">0x96A3E4C5</span>);</span><br><span class="line">  <span class="keyword">static</span> <span class="keyword">const</span> Color colorAccent = Color(<span class="number">0xFFE5F378</span>);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">static</span> <span class="keyword">const</span> Color textPrimaryColor = Color(<span class="number">0xFF2A2A2A</span>);</span><br><span class="line">  <span class="keyword">static</span> <span class="keyword">const</span> Color textSecondaryColor = Color(<span class="number">0xFF383838</span>);</span><br><span class="line">  <span class="keyword">static</span> <span class="keyword">const</span> Color textHintColor = Color(<span class="number">0xFFB3B3B3</span>);</span><br><span class="line">  <span class="keyword">static</span> <span class="keyword">const</span> Color borderColor = Color(<span class="number">0xFFE8E8E8</span>);</span><br><span class="line">  <span class="keyword">static</span> <span class="keyword">const</span> Color surfaceColor = Color(<span class="number">0xFFF9F9F9</span>);</span><br><span class="line">  <span class="keyword">static</span> <span class="keyword">const</span> <span class="built_in">double</span> underlineBorderWidth = <span class="number">0.6</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">static</span> TextTheme textTheme = TextTheme(</span><br><span class="line">    headline: headline,</span><br><span class="line">    title: title,</span><br><span class="line">    body1: body1,</span><br><span class="line">    body2: body2,</span><br><span class="line">    caption: small</span><br><span class="line">  );</span><br><span class="line"></span><br><span class="line">  <span class="comment">// large title</span></span><br><span class="line">  <span class="keyword">static</span> <span class="keyword">const</span> headline = TextStyle(</span><br><span class="line">    fontWeight: FontWeight.bold,</span><br><span class="line">    fontSize: <span class="number">30</span>,</span><br><span class="line">    letterSpacing: <span class="number">0.27</span>,</span><br><span class="line">    color: textPrimaryColor</span><br><span class="line">  );</span><br><span class="line"></span><br><span class="line">  <span class="comment">// normal title</span></span><br><span class="line">  <span class="keyword">static</span> <span class="keyword">const</span> title = TextStyle(</span><br><span class="line">    fontSize: <span class="number">18</span>,</span><br><span class="line">    letterSpacing: <span class="number">0.18</span>,</span><br><span class="line">    color: textPrimaryColor</span><br><span class="line">  );</span><br><span class="line"></span><br><span class="line">  <span class="comment">// normal text body1</span></span><br><span class="line">  <span class="keyword">static</span> TextStyle body1 = TextStyle(</span><br><span class="line">    fontSize: <span class="number">16</span>,</span><br><span class="line">    letterSpacing: <span class="number">0.48</span>,</span><br><span class="line">    color: textPrimaryColor</span><br><span class="line">  );</span><br><span class="line"></span><br><span class="line">  <span class="comment">// normal text body2</span></span><br><span class="line">  <span class="keyword">static</span> TextStyle body2 = TextStyle(</span><br><span class="line">    fontSize: <span class="number">14</span>,</span><br><span class="line">    letterSpacing: <span class="number">0.25</span>,</span><br><span class="line">    color: textSecondaryColor</span><br><span class="line">  );</span><br><span class="line"></span><br><span class="line">  <span class="keyword">static</span> TextStyle small = TextStyle(</span><br><span class="line">    fontSize: <span class="number">12</span>,</span><br><span class="line">    color: textHintColor</span><br><span class="line">  );</span><br><span class="line"></span><br><span class="line">  <span class="comment">// input field border decoration style</span></span><br><span class="line">  <span class="keyword">static</span> <span class="keyword">const</span> inputDecorationTheme = InputDecorationTheme(</span><br><span class="line">    hintStyle: TextStyle(fontSize: <span class="number">14</span>),</span><br><span class="line">    focusedBorder: UnderlineInputBorder(</span><br><span class="line">      borderSide: BorderSide(width: underlineBorderWidth, color: primaryColor)</span><br><span class="line">    ),</span><br><span class="line">    border: UnderlineInputBorder(</span><br><span class="line">      borderSide: BorderSide(width: underlineBorderWidth, color: borderColor)</span><br><span class="line">    ),</span><br><span class="line">    enabledBorder: UnderlineInputBorder(</span><br><span class="line">        borderSide: BorderSide(width: underlineBorderWidth, color: borderColor)</span><br><span class="line">    ),</span><br><span class="line">    disabledBorder: UnderlineInputBorder(</span><br><span class="line">        borderSide: BorderSide(width: underlineBorderWidth, color: borderColor)</span><br><span class="line">    ),</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>é‚£ä¹ˆï¼Œæˆ‘ä»¬å¯ä»¥åœ¨å…¥å£ç¨‹åºå°†è¿™å¥— Theme è§„åˆ™åº”ç”¨åˆ°å…¨å±€ï¼š</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">MaterialApp(</span><br><span class="line">          title: <span class="string">'xxx'</span>,</span><br><span class="line">          <span class="comment">// å…¨å±€ä¸»é¢˜é…ç½®</span></span><br><span class="line">          theme: ThemeData(</span><br><span class="line">            textTheme: AppTheme.textTheme,</span><br><span class="line">            primaryColor: AppTheme.primaryColor,</span><br><span class="line">            canvasColor: AppTheme.surfaceColor,</span><br><span class="line">            scaffoldBackgroundColor: AppTheme.surfaceColor,</span><br><span class="line">            inputDecorationTheme: AppTheme.inputDecorationTheme,</span><br><span class="line">            appBarTheme: AppTheme.appBarTheme,</span><br><span class="line">            <span class="comment">//...</span></span><br><span class="line">          ),</span><br><span class="line">          home: xxxPage()</span><br><span class="line">        )</span><br></pre></td></tr></table></figure>

<p>ä»¥ä¸Šä»…åˆ—ä¸¾äº†éƒ¨åˆ†å¸¸è§UIç»„ä»¶çš„ä½¿ç”¨æŠ€å·§å’Œé—®é¢˜ï¼Œå¦‚æœ‰å…¶ä»–é—®é¢˜æ¬¢è¿ç•™è¨€æ¢è®¨ã€‚</p>
<h3 id="åŠŸèƒ½éœ€æ±‚å®ç°"><a href="#åŠŸèƒ½éœ€æ±‚å®ç°" class="headerlink" title="åŠŸèƒ½éœ€æ±‚å®ç°"></a>åŠŸèƒ½éœ€æ±‚å®ç°</h3><p>é™¤äº† Flutter ä¸­çš„ä¸€äº› UI ç»„ä»¶çš„çš„ä½¿ç”¨ä»¥å¤–ï¼Œåº”ç”¨è‡ªç„¶è¿˜éœ€è¦æ¶‰åŠåˆ°å¾ˆå¤šå…·ä½“çš„ä¸šåŠ¡åŠŸèƒ½éœ€æ±‚ï¼Œå¸¸è§çš„æœ‰ç¬¬ä¸‰æ–¹ç™»å½•ã€åˆ†äº«ã€åœ°å›¾ã€Lottie åŠ¨ç”»æ¥å…¥ã€ç¬¬ä¸‰æ–¹å­—ä½“ä¸‹è½½å’ŒåŠ è½½ç­‰ç­‰ã€‚è¿™ä¸ªæ—¶å€™å°±éœ€è¦æˆ‘ä»¬çµæ´»å˜é€šäº†ï¼Œåœ¨ä¿è¯é¡¹ç›®è¿›åº¦é¡ºåˆ©è¿›è¡Œçš„å‰æä¸‹æœ‰é€‰æ‹©æ€§åœ°å»å€ŸåŠ©ä¸€äº›æ’ä»¶å’Œå·¥å…·ï¼Œæˆ–è€…å‰å¾€ Flutter çš„ Github Issue ç¤¾åŒºå»å¯»æ‰¾ç­”æ¡ˆäº†ï¼Œè¿™é‡Œä¹Ÿé€‰æ‹©å‡ ä¸ªå¸¸ç”¨éœ€æ±‚ç®€å•è¯´ä¸€ä¸‹ã€‚</p>
<h4 id="å½“å‰è®¾å¤‡çš„ç³»ç»Ÿè¯­è¨€"><a href="#å½“å‰è®¾å¤‡çš„ç³»ç»Ÿè¯­è¨€" class="headerlink" title="å½“å‰è®¾å¤‡çš„ç³»ç»Ÿè¯­è¨€"></a>å½“å‰è®¾å¤‡çš„ç³»ç»Ÿè¯­è¨€</h4><p>å¾ˆå¤šæ—¶å€™æˆ‘ä»¬éœ€è¦æ ¹æ®å½“å‰ç³»ç»Ÿä½¿ç”¨çš„è¯­è¨€å»åŠ¨æ€é€‰æ‹©åŠ è½½çš„å†…å®¹ï¼Œä¸¾ä¸ªä¾‹å­ï¼Œæˆ‘ä»¬ç»å¸¸éœ€è¦æ ¹æ®å½“å‰è¯­è¨€å»åŠ è½½ä¸­æ–‡æˆ–è€…è‹±æ–‡ç‰ˆçš„ç”¨æˆ·éšç§æ¡æ¬¾ï¼Œæˆ‘ä»¬å¯ä»¥å€ŸåŠ© Localizations å»è·å–å½“å‰ä½¿ç”¨è¯­è¨€çš„ <code>languageCode</code>ï¼Œè¿›è€Œæ¯”å¯¹å’Œå¤„ç†ï¼š</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/// <span class="markdown">åˆ¤æ–­å½“å‰è¯­è¨€ç±»å‹</span></span></span><br><span class="line">_navigateToUrl(Localizations.localeOf(context).languageCode == <span class="string">'zh'</span></span><br><span class="line">                     ? Api.PRIVACY_POLICY_ZH_CN</span><br><span class="line">                     : Api.PRIVACY_POLICY_EN);</span><br></pre></td></tr></table></figure>

<h4 id="ç¬¬ä¸‰æ–¹ç™»å½•-åˆ†äº«"><a href="#ç¬¬ä¸‰æ–¹ç™»å½•-åˆ†äº«" class="headerlink" title="ç¬¬ä¸‰æ–¹ç™»å½•/åˆ†äº«"></a>ç¬¬ä¸‰æ–¹ç™»å½•/åˆ†äº«</h4><p>è¿™éƒ¨åˆ†å½“åˆè€ƒè™‘è‡ªå·±å†™æ’ä»¶æ¥å¯¹æ¥åŸç”Ÿçš„åˆ†äº«sdkï¼Œä½†è€ƒè™‘åˆ°æ—¶é—´æˆæœ¬å°±æš‚æ—¶æç½®äº†ï¼Œæ‰¾åˆ°å‡ ä¸ªä¸é”™çš„æ’ä»¶æ¥å®ç°äº†è¯¥éƒ¨åˆ†åŠŸèƒ½ï¼š</p>
<ul>
<li><p>fluwx</p>
<p>è¯¥æ’ä»¶åº”è¯¥æ˜¯åœ¨å¾®ä¿¡ç¤¾ä¼šåŒ–åˆ†äº«ã€æ”¯ä»˜ç­‰æ–¹é¢åŠŸèƒ½é›†æˆåº¦æ¯”è¾ƒé«˜çš„æ’ä»¶äº†ï¼Œæ˜¯ç”± OpenFlutter ç¤¾åŒºè´Ÿè´£ç»´æŠ¤çš„ï¼Œç›®å‰æ²¡å‘ç°æœ‰ä»€ä¹ˆé—®é¢˜ã€‚å…·ä½“é…ç½®çš„ç»†èŠ‚å°±ä¸å†è¯´æ˜äº†ï¼Œå®ƒçš„æ–‡æ¡£å¾ˆè¯¦ç»†ï¼Œå…·ä½“å¯å‚è€ƒï¼š<a href="https://github.com/OpenFlutter/fluwx">https://github.com/OpenFlutter/fluwx</a></p>
<p>å¦å¤–ï¼Œä»–ä»¬ç»„ç»‡ä¸­è¿˜æœ‰å…¶ä»–å¾ˆå¤šä¼˜ç§€çš„ Flutter ç›¸å…³é¡¹ç›®ï¼Œå¤§å®¶ä¹Ÿå¯ä»¥å»å­¦ä¹ ä¸€ä¸‹ã€‚</p>
</li>
<li><p>flutter fake toolkit</p>
<p>è¿™ä¸ªæ˜¯ä¸€ç³»åˆ—æ’ä»¶ï¼ŒåŒ…æ‹¬äº†å¾®ä¿¡ã€å¾®åšã€QQã€æ”¯ä»˜å®ç­‰ä¼—å¤šå¹³å°ï¼Œè®©äººä½©æœä½œè€…çš„äº§å‡ºç‡ã€‚ç›®å‰ä½¿ç”¨èµ·æ¥ä¹Ÿæ²¡å‘ç°ä»€ä¹ˆå¤§é—®é¢˜ï¼Œä¹Ÿå¸Œæœ›ä½œè€…èƒ½å¤Ÿå¤šé‚€è¯·å‡ ä¸ªå°ä¼™ä¼´æ¥ç»´æŠ¤ï¼Œæå‡æ›´æ–°çš„é¢‘ç‡ã€‚è¿™é‡Œé™„ä¸Šå…¶ä¸­å‡ ä¸ªå¸¸ç”¨çš„æ’ä»¶ï¼š</p>
<blockquote>
<p>QQæ’ä»¶ï¼š<a href="https://github.com/v7lin/fake_tencent">https://github.com/v7lin/fake_tencent</a></p>
<p>å¾®åšæ’ä»¶ï¼š<a href="https://github.com/v7lin/fake_weibo">https://github.com/v7lin/fake_weibo</a></p>
<p>æ”¯ä»˜å®ï¼š<a href="https://github.com/v7lin/fake_alipay">https://github.com/v7lin/fake_alipay</a></p>
</blockquote>
</li>
</ul>
<h4 id="LottieåŠ¨ç”»"><a href="#LottieåŠ¨ç”»" class="headerlink" title="LottieåŠ¨ç”»"></a>LottieåŠ¨ç”»</h4><p>ç›¸ä¿¡å¤§å®¶å¯¹ Airbnb å…¬å¸æ¨å‡ºçš„è¿™ä¸ªåŠ¨ç”»å·¥å…·å·²ç»æœ‰æ‰€è€³é—»äº†ï¼ŒLottie æ”¯æŒå¤šå¹³å°ï¼Œä½¿ç”¨åŒä¸€ä¸ªJSON åŠ¨ç”»æ–‡ä»¶ï¼Œå¯åœ¨ä¸åŒå¹³å°å®ç°ç›¸åŒçš„åŠ¨ç”»æ•ˆæœã€‚ç°åœ¨å¤æ‚åŠ¨ç”»å¾ˆå¤šæ—¶å€™éƒ½å€ŸåŠ©äºå®ƒï¼Œèƒ½å¤Ÿæœ‰æ•ˆå‡å°‘å¼€å‘æˆæœ¬å’Œä¿æŒåŠ¨ç”»çš„é«˜è¿˜åŸåº¦ã€‚åŒæ ·ï¼ŒFlutter ä¸­ä¹Ÿæœ‰ä¸€äº›å°è£…äº† Lottie åŠ¨ç”»çš„æ’ä»¶ï¼Œè®©æˆ‘ä»¬å¯ä»¥åœ¨ Flutter ä¸Šä¹Ÿå¯ä»¥æ„Ÿå—åˆ°å®ƒçš„é­…åŠ›ã€‚</p>
<p>è¿™é‡Œï¼Œæˆ‘ä¸ªäººä½¿ç”¨çš„æ’ä»¶æ˜¯ <code>flutter_lottie</code> æ’ä»¶ï¼Œè¿˜ç®—ç¨³å®šï¼Œæ”¯æŒåŠ¨ç”»å±æ€§å’Œè¿›åº¦æ“ä½œï¼Œå”¯ä¸€é—æ†¾å°±æ˜¯æœ‰æ®µæ—¶é—´æ²¡æ›´æ–°äº†ğŸ˜‚ï¼Œåç»­è€ƒè™‘åˆ° iOS æ–¹é¢çš„å…¼å®¹æ€§å¯èƒ½ä¼šè‡ªå·±å†™ä¸€ä¸ªæ’ä»¶ã€‚åœ¨ <code>pubspec.yaml</code> ä¸­ä¾èµ–æ“ä½œå¦‚ä¸‹ï¼š</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Use Lottie animation in Flutter.</span></span><br><span class="line">  <span class="comment"># @link: https://pub.dev/packages/flutter_lottie</span></span><br><span class="line">  <span class="attr">flutter_lottie:</span> <span class="number">0.2</span><span class="number">.0</span></span><br></pre></td></tr></table></figure>

<p>å…·ä½“ä½¿ç”¨æŠ€å·§å¯å‚è€ƒå®ƒçš„exampleï¼š<a href="https://github.com/CameronStuartSmith/flutter_lottie">https://github.com/CameronStuartSmith/flutter_lottie</a></p>
<p>è¿™é‡Œé™„ä¸Šæ§åˆ¶åŠ¨ç”»è¿›åº¦çš„éƒ¨åˆ†ä»£ç ï¼š</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">int</span> _currentIndex = <span class="number">0</span>;</span><br><span class="line">  LottieController _lottieController;</span><br><span class="line">  PageController _pageController = PageController();</span><br><span class="line">  <span class="comment">// the key frames of animation</span></span><br><span class="line">  <span class="keyword">final</span> ANIMATION_PROGRESS = [</span><br><span class="line">    <span class="number">0.0</span>,</span><br><span class="line">    <span class="number">0.2083</span>,</span><br><span class="line">    <span class="number">0.594</span>,</span><br><span class="line">    <span class="number">0.8333</span>,</span><br><span class="line">    <span class="number">1</span></span><br><span class="line">  ];</span><br><span class="line">  <span class="comment">// the duration of each animation sections</span></span><br><span class="line">  <span class="keyword">final</span> ANIMATION_TIMES = [</span><br><span class="line">    <span class="number">2300</span>,</span><br><span class="line">    <span class="number">4500</span>,</span><br><span class="line">    <span class="number">3500</span></span><br><span class="line">  ];</span><br><span class="line">  <span class="comment">// animation progress controller</span></span><br><span class="line">  Animation&lt;<span class="built_in">double</span>&gt; animation;</span><br><span class="line">  AnimationController _animationController;</span><br><span class="line"></span><br><span class="line">  </span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  <span class="keyword">void</span> initState() &#123;</span><br><span class="line">    <span class="keyword">super</span>.initState();</span><br><span class="line">    _animationController = <span class="keyword">new</span> AnimationController(</span><br><span class="line">        duration: <span class="built_in">Duration</span>(milliseconds: ANIMATION_TIMES[_currentIndex]), vsync: <span class="keyword">this</span>);</span><br><span class="line">    <span class="keyword">final</span> Animation curve =</span><br><span class="line">        <span class="keyword">new</span> CurvedAnimation(parent: _animationController, curve: Curves.linear);</span><br><span class="line">    animation = <span class="keyword">new</span> Tween(begin: <span class="number">0.0</span>, end: <span class="number">1.0</span>).animate(curve);</span><br><span class="line">    animation.addListener(() &#123;</span><br><span class="line">      _applyAnimation(animation.value);</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¸ƒå±€ä»£ç </span></span><br><span class="line">.......</span><br><span class="line">  </span><br><span class="line">  Positioned(</span><br><span class="line">              bottom: <span class="number">0</span>,</span><br><span class="line">              child: Container(</span><br><span class="line">                width: MediaQuery.of(context).size.width,</span><br><span class="line">                <span class="comment">// æ­¤å¤„ä¸ºäº†å°†åŠ¨ç”»ç»„ä»¶å±…ä¸‹æ”¾ç½®</span></span><br><span class="line">                height: AutoSize.covert.dpToDp(<span class="number">667</span>),</span><br><span class="line">                child: LottieView.fromFile(</span><br><span class="line">                  filePath: <span class="string">'assets/anims/user_guide_anim.json'</span>,</span><br><span class="line">                  autoPlay: <span class="keyword">false</span>,</span><br><span class="line">                  loop: <span class="keyword">true</span>,</span><br><span class="line">                  reverse: <span class="keyword">true</span>,</span><br><span class="line">                  onViewCreated: (controller) &#123;</span><br><span class="line">                    _lottieController = controller;</span><br><span class="line">                    Future.delayed(<span class="built_in">Duration</span>(milliseconds: <span class="number">1</span>), () &#123;</span><br><span class="line">                      _animationController.forward();</span><br><span class="line">                    &#125;);</span><br><span class="line">                  &#125;,</span><br><span class="line">                ),</span><br><span class="line">              ),</span><br><span class="line">            ),</span><br><span class="line"></span><br><span class="line"><span class="comment">// description page view</span></span><br><span class="line">            Container(</span><br><span class="line">              width: MediaQuery.of(context).size.width,</span><br><span class="line">              height: MediaQuery.of(context).size.height,</span><br><span class="line">              margin: EdgeInsets.only(bottom: <span class="number">60</span>),</span><br><span class="line">              child: PageView(</span><br><span class="line">                physics: BouncingScrollPhysics(),</span><br><span class="line">                controller: _pageController,</span><br><span class="line">                onPageChanged: (index) &#123;</span><br><span class="line">                  setState(() &#123;</span><br><span class="line">                    _currentIndex = index;</span><br><span class="line">                    _animationController.duration = <span class="built_in">Duration</span>(milliseconds: ANIMATION_TIMES[index]);</span><br><span class="line">                  &#125;);</span><br><span class="line">                  Future.delayed(<span class="built_in">Duration</span>(microseconds: <span class="number">600</span>), () &#123;</span><br><span class="line">                    _animationController.forward(from: <span class="number">0</span>);</span><br><span class="line">                  &#125;);</span><br><span class="line">                &#125;,</span><br><span class="line">                children: _buildPageGroup(),</span><br><span class="line">              ),</span><br><span class="line">            ),</span><br><span class="line"></span><br><span class="line">......</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">void</span> _applyAnimation(<span class="built_in">double</span> value) &#123;</span><br><span class="line">    <span class="keyword">var</span> startProgress = ANIMATION_PROGRESS[_currentIndex];</span><br><span class="line">    <span class="keyword">var</span> endProgress = ANIMATION_PROGRESS[_currentIndex + <span class="number">1</span>];</span><br><span class="line">    <span class="keyword">var</span> progress = startProgress + (endProgress - startProgress) * value;</span><br><span class="line">    _lottieController.setAnimationProgress(progress);</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>

<p>ç®€å•è§£é‡Šä¸€ä¸‹ä¸Šè¿°ä»£ç é€»è¾‘ï¼Œæˆ‘ä»¬è¿™é‡Œä¸»è¦å€ŸåŠ©äº Lottie æ¥å®ç°ç”¨æˆ·å¼•å¯¼é¡µçš„åˆ‡æ¢åŠ¨ç”»ï¼Œå¼•å¯¼é¡µåˆ†ä¸ºä¸‰ä¸ªç”»é¢ï¼Œæ‰€ä»¥éœ€è¦æˆ‘ä»¬è®°å½•å’Œä¿å­˜åŠ¨ç”»çš„å…³é”®å¸§å’Œæ¯æ®µç”»é¢çš„æ‰§è¡Œæ—¶é—´ã€‚è‡³äºåŠ¨ç”»çš„æ§åˆ¶æ‰§è¡Œæƒäº¤ç”±ä¸Šå±‚çš„ <code>PageView</code> æ¥æ»‘åŠ¨å®ç°ï¼Œæ¯æ¬¡æ»‘åŠ¨é€šè¿‡ <code>AnimationController</code> å’Œ <code>setState((){})</code> æ¥æ§åˆ¶å’Œåˆ·æ–°æ¯æ®µåŠ¨ç”»çš„æ‰§è¡Œæ—¶é—´å’Œæ‰§è¡Œåˆ»åº¦ã€‚å…·ä½“demoæ•ˆæœå¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<p><img src="https://user-gold-cdn.xitu.io/2020/3/26/17115a9407eeccf2?w=200&h=431&f=gif&s=1064911" alt="Flutterä¸­çš„lottieåŠ¨ç”»æ•ˆæœ"></p>
<h4 id="å¤–éƒ¨å­—ä½“ä¸‹è½½å’ŒåŠ è½½"><a href="#å¤–éƒ¨å­—ä½“ä¸‹è½½å’ŒåŠ è½½" class="headerlink" title="å¤–éƒ¨å­—ä½“ä¸‹è½½å’ŒåŠ è½½"></a>å¤–éƒ¨å­—ä½“ä¸‹è½½å’ŒåŠ è½½</h4><p>å¦‚æœæ¥è§¦è¿‡æ–‡å­—ç¼–è¾‘åŠŸèƒ½å¼€å‘çš„å°ä¼™ä¼´åº”è¯¥éƒ½çŸ¥é“ï¼Œæˆ‘ä»¬ä¸€èˆ¬ä¼šæä¾›å‡ åç§å­—ä½“ä¾›ç”¨æˆ·ä½¿ç”¨ï¼Œå½“ç„¶ï¼Œæˆ‘ä»¬ä¸å¯èƒ½åœ¨é¡¹ç›®æ‰“åŒ…æ—¶å°±æ”¾å…¥è¿™ä¹ˆå¤šå­—ä½“åŒ…ï¼Œè¿™æ ·æ˜¾è€Œä¼šä¸¥é‡å¢åŠ å®‰è£…åŒ…å¤§å°ã€‚æˆ‘ä»¬ä¸€èˆ¬çš„åšæ³•æ˜¯ï¼šå½“ç”¨æˆ·ç¬¬ä¸€æ¬¡ç‚¹å‡»æƒ³ä½¿ç”¨æŸä¸ªå­—ä½“æ—¶ï¼Œæˆ‘ä»¬ä¼šå…ˆå°†å…¶ä¸‹è½½åˆ°æ‰‹æœºæœ¬åœ°å­˜å‚¨ï¼Œç„¶ååŠ è½½å­—ä½“ï¼Œåç»­å½“ç”¨æˆ·å†æ¬¡é€‰æ‹©è¯¥å­—ä½“ï¼Œé‚£ä¹ˆç›´æ¥ä»æœ¬åœ°åŠ è½½å³å¯ã€‚é‚£ä¹ˆé—®é¢˜æ¥äº†ï¼ŒFlutter ç›®å‰çš„ç¤ºä¾‹ä¸­ä»…ä¸ºæˆ‘ä»¬æä¾›äº†ä»æœ¬åœ° Asset ç›®å½•ä¸‹åŠ è½½å­—ä½“çš„æ–¹å¼ï¼Œæ˜¾ç„¶æƒ³è¦å®ç°ä¸Šè¿°éœ€æ±‚ï¼Œéœ€è¦æˆ‘ä»¬è‡ªå·±å¯»æ±‚å‡ºè·¯ã€‚</p>
<p>å¹¸è¿çš„æ˜¯ï¼Œä¸Šå¸ä¸ºæˆ‘ä»¬å…³ä¸Šäº†ä¸€æ‰‡é—¨ï¼Œä¹Ÿä¸ºæˆ‘ä»¬æ‰“å¼€äº†ä¸€æ‰‡çª—ï¼ŒFlutter ä¸­ä¸ºæˆ‘ä»¬æä¾›äº†ä¸€ä¸ª FontLoader å·¥å…·ï¼Œå®ƒæœ‰ä¸€ä¸ª <code>addFont</code> æ–¹æ³•ï¼Œæ”¯æŒå°† <code>ByteData</code> æ ¼å¼æ•°æ®è½¬åŒ–ä¸ºå­—ä½“åŒ…å¹¶åŠ è½½åˆ°åº”ç”¨å­—ä½“èµ„æºåº“ï¼š</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">  <span class="comment">/// <span class="markdown">Registers a font asset to be loaded by this font loader.</span></span></span><br><span class="line">  <span class="comment">///</span></span><br><span class="line">  <span class="comment">/// <span class="markdown">The [bytes] argument specifies the actual font asset bytes. Currently,</span></span></span><br><span class="line">  <span class="comment">/// <span class="markdown">only TrueType (TTF) fonts are supported.</span></span></span><br><span class="line">  <span class="keyword">void</span> addFont(Future&lt;ByteData&gt; bytes) &#123;</span><br><span class="line">    <span class="keyword">if</span> (_loaded)</span><br><span class="line">      <span class="keyword">throw</span> StateError(<span class="string">'FontLoader is already loaded'</span>);</span><br><span class="line"></span><br><span class="line">    _fontFutures.add(bytes.then(</span><br><span class="line">        (ByteData data) =&gt; Uint8List.view(data.buffer, data.offsetInBytes, data.lengthInBytes)</span><br><span class="line">    ));</span><br><span class="line">  &#125;</span><br><span class="line">...</span><br><span class="line"></span><br><span class="line"> <span class="comment">/// <span class="markdown">Loads this font loader's font [family] and all of its associated assets</span></span></span><br><span class="line">  <span class="comment">/// <span class="markdown">into the Flutter engine, making the font available to the current</span></span></span><br><span class="line">  <span class="comment">/// <span class="markdown">application.</span></span></span><br><span class="line">  <span class="comment">///</span></span><br><span class="line">  <span class="comment">/// <span class="markdown">This method should only be called once per font loader. Attempts to</span></span></span><br><span class="line">  <span class="comment">/// <span class="markdown">load fonts from the same loader more than once will cause a [StateError]</span></span></span><br><span class="line">  <span class="comment">/// <span class="markdown">to be thrown.</span></span></span><br><span class="line">  <span class="comment">///</span></span><br><span class="line">  <span class="comment">/// <span class="markdown">The returned future will complete with an error if any of the font asset</span></span></span><br><span class="line">  <span class="comment">/// <span class="markdown">futures yield an error.</span></span></span><br><span class="line">  Future&lt;<span class="keyword">void</span>&gt; load() <span class="keyword">async</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (_loaded)</span><br><span class="line">      <span class="keyword">throw</span> StateError(<span class="string">'FontLoader is already loaded'</span>);</span><br><span class="line">    _loaded = <span class="keyword">true</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">final</span> <span class="built_in">Iterable</span>&lt;Future&lt;<span class="keyword">void</span>&gt;&gt; loadFutures = _fontFutures.map(</span><br><span class="line">        (Future&lt;Uint8List&gt; f) =&gt; f.then&lt;<span class="keyword">void</span>&gt;(</span><br><span class="line">            (Uint8List list) =&gt; loadFont(list, family)</span><br><span class="line">        )</span><br><span class="line">    );</span><br><span class="line">    <span class="keyword">return</span> Future.wait(loadFutures.toList());</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>

<p>å¦‚æ­¤ä¸€æ¥ï¼Œé‚£æˆ‘ä»¬è§£å†³æ€è·¯ä¹Ÿå°±â€œæ‰‹åˆ°æ“’æ¥â€äº†ï¼šåªéœ€è¦å°†å­—ä½“ä¸‹è½½åˆ°æœ¬åœ°å¹¶ä»¥æ–‡ä»¶å½¢å¼å­˜å‚¨ï¼Œåœ¨ä½¿ç”¨æ—¶å°†å­—ä½“æ–‡ä»¶å†è½¬ä¸º <code>ByteData</code> æ•°æ®æ ¼å¼ä¾› FontLoader åŠ è½½å³å¯ã€‚è¿™é‡Œé™„ä¸Šç®€åŒ–åçš„éƒ¨åˆ†å…³é”®ä»£ç ï¼š</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/// <span class="markdown">åŠ è½½å¤–éƒ¨çš„å­—ä½“</span></span></span><br><span class="line">Future loadFontFile(LetterFont font) <span class="keyword">async</span> &#123;</span><br><span class="line">    <span class="comment">// load font file</span></span><br><span class="line">    <span class="keyword">var</span> fontLoader = FontLoader(font.fontName);</span><br><span class="line">    fontLoader.addFont(<span class="keyword">await</span> fetchFont(font));</span><br><span class="line">    <span class="keyword">await</span> fontLoader.load();</span><br><span class="line">  &#125;</span><br><span class="line"><span class="comment">/// <span class="markdown">ä»ç½‘ç»œä¸‹è½½å­—ä½“èµ„æº</span></span></span><br><span class="line">Future&lt;ByteData&gt; fetchFont(LetterFont font) <span class="keyword">async</span> &#123;</span><br><span class="line">    <span class="keyword">final</span> response = <span class="keyword">await</span> https.<span class="keyword">get</span>(</span><br><span class="line">        font.fontUrl);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (response.statusCode == <span class="number">200</span>) &#123;</span><br><span class="line">      <span class="comment">// è¿™é‡Œä¹Ÿå¯ä»¥åšä¿å­˜åˆ°æœ¬åœ°çš„é€»è¾‘å¤„ç†</span></span><br><span class="line">      <span class="keyword">return</span> ByteData.view(response.bodyBytes.buffer);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="comment">// If that call was not successful, throw an error.</span></span><br><span class="line">      <span class="keyword">throw</span> Exception(<span class="string">'Failed to load font'</span>);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>

<h3 id="æ‰“åŒ…ä¸Šæ¶ç›¸å…³"><a href="#æ‰“åŒ…ä¸Šæ¶ç›¸å…³" class="headerlink" title="æ‰“åŒ…ä¸Šæ¶ç›¸å…³"></a>æ‰“åŒ…ä¸Šæ¶ç›¸å…³</h3><p>æ‰“åŒ…æ–¹é¢ä¹Ÿæœ‰ä¸€éƒ¨åˆ†ç»†èŠ‚éœ€è¦æ³¨æ„ä¸€ä¸‹ï¼Œè¿™é‡Œè°ˆä¸€ä¸‹ Android å’Œ iOS å¼€å‘ç¯å¢ƒé…ç½®å’Œæ‰“åŒ…å·®å¼‚ä»¥åŠåˆ—ä¸¾éƒ¨åˆ†å¸¸è§é—®é¢˜ï¼Œå…¶ä»–é—®é¢˜å› äººè€Œå¼‚ï¼Œä¹Ÿå› ç‰ˆæœ¬è€Œå¼‚ï¼Œå°±ä¸å•ç‹¬æ‹¿å‡ºæ¥è®²äº†ã€‚</p>
<h4 id="Androidæ–¹é¢"><a href="#Androidæ–¹é¢" class="headerlink" title="Androidæ–¹é¢"></a>Androidæ–¹é¢</h4><ol>
<li><p>å¼€å‘å·¥å…·</p>
<p>Android studio3.6ç¨³å®šç‰ˆ</p>
</li>
<li><p>ä»£ç ç¼–è¯‘ç¯å¢ƒ</p>
<p>Kotlin + AndroidX</p>
<blockquote>
<p>ç›®å‰Flutteråˆ›å»ºé¡¹ç›®é»˜è®¤å‹¾é€‰ä¸¤ä¸ªé€‰é¡¹</p>
</blockquote>
</li>
<li><p>ç‰ˆæœ¬å·é…ç½®</p>
<p>åœ¨ <code>android/app/build.gradle</code> ä¸­é…ç½® <code>flutterVersionCode</code> å’Œ <code>flutterVersionName</code>ã€‚</p>
<blockquote>
<p>æ³¨æ„ï¼šå¦‚æœåœ¨ <code>pubspec.yaml</code> ä¸­é…ç½®äº†versionï¼Œé‚£ä¹ˆ Flutter å…·ä½“æ‰“åŒ…çš„ç‰ˆæœ¬ä¼šå®é™…æ ¹æ® <code>pubspec.yaml</code> çš„ <code>version</code> æ¥æ„å»ºã€‚</p>
</blockquote>
</li>
<li><p>ç½‘ç»œé…ç½®</p>
<p>ç›®å‰ Android å®˜æ–¹ä¸å»ºè®®é‡‡ç”¨httpè¯·æ±‚æ ¼å¼ï¼Œæ¨èä½¿ç”¨ httpsï¼Œæ‰€ä»¥ï¼Œå¦‚æœé¡¹ç›®ä¸­ä½¿ç”¨åˆ°äº†httpæ ¼å¼è¯·æ±‚ï¼Œé‚£ä¹ˆéœ€è¦æ·»åŠ ç½‘ç»œé…ç½®ã€‚é¦–å…ˆåœ¨ <code>android/app/src/main/res</code> è·¯å¾„ä¸‹åˆ›å»ºåä¸º <code>xml</code> çš„æ–‡ä»¶å¤¹ï¼šç„¶ååˆ›å»ºåä¸º <code>network_security_config</code> çš„ xml æ–‡ä»¶ï¼Œæ¥ç€å°†å¦‚ä¸‹ä»£ç å¤åˆ¶è¿›å»ï¼š</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">network-security-config</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">base-config</span> <span class="attr">cleartextTrafficPermitted</span>=<span class="string">"true"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">network-security-config</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>ç„¶ååœ¨ <code>AndroidManifest.xml</code> æ–‡ä»¶ä¸­è®¾ç½® <code>networkSecurityConfig</code> å±æ€§å³å¯ï¼š</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"> <span class="tag">&lt;<span class="name">application</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:name</span>=<span class="string">"io.flutter.app.FlutterApplication"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:label</span>=<span class="string">"Timeory"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:icon</span>=<span class="string">"@mipmap/ic_launcher"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">tools:replace</span>=<span class="string">"android:name"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:usesCleartextTraffic</span>=<span class="string">"true"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:networkSecurityConfig</span>=<span class="string">"@xml/network_security_config"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">tools:ignore</span>=<span class="string">"GoogleAppIndexingWarning"</span>&gt;</span></span><br><span class="line">   ......</span><br><span class="line"><span class="tag">&lt;/<span class="name">application</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>æƒé™é…ç½®</p>
<p>ä¸€èˆ¬æˆ‘ä»¬é¡¹ç›®ä¸­éƒ½ä¼šç”¨åˆ°æƒé™ç”³è¯·ï¼Œå¹¶ä¸”å¾ˆå¤š flutter æ’ä»¶ä¸­ä¹Ÿä¼šè¦æ±‚æˆ‘ä»¬å»è‡ªå·±é…ç½®æƒé™ï¼Œæˆ‘ä»¬å¯èƒ½éœ€è¦åœ¨ <code>AndroidManifest.xml</code> æ–‡ä»¶ä¸­æ·»åŠ å¦‚ä¸‹å¸¸ç”¨æƒé™ï¼ˆåªæ˜¯æ ·ä¾‹ï¼‰ï¼š</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">uses-permission</span> <span class="attr">android:name</span>=<span class="string">"android.permission.INTERNET"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">uses-permission</span> <span class="attr">android:name</span>=<span class="string">"android.permission.ACCESS_NETWORK_STATE"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">uses-permission</span> <span class="attr">android:name</span>=<span class="string">"android.permission.ACCESS_WIFI_STATE"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">uses-permission</span> <span class="attr">android:name</span>=<span class="string">"android.permission.READ_PHONE_STATE"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">uses-permission</span> <span class="attr">android:name</span>=<span class="string">"android.permission.WRITE_EXTERNAL_STORAGE"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">uses-permission</span> <span class="attr">android:name</span>=<span class="string">"android.permission.READ_EXTERNAL_STORAGE"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">uses-permission</span> <span class="attr">android:name</span>=<span class="string">"android.permission.ACCESS_FINE_LOCATION"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">uses-permission</span> <span class="attr">android:name</span>=<span class="string">"android.permission.ACCESS_COARSE_LOCATION"</span> /&gt;</span></span><br></pre></td></tr></table></figure>

<p>å½“ç„¶è¿™äº›è¿˜æ˜¯ä¸å¤Ÿçš„ï¼ŒAndroid6.0åŠä»¥ä¸Šï¼Œæˆ‘ä»¬è¿˜éœ€è¦åœ¨ä»£ç ä¸­åŠ¨æ€ç”³è¯·æƒé™ï¼ŒFlutterä¸­æœ‰å¾ˆå¤šä¼˜ç§€çš„æƒé™ç”³è¯·æ’ä»¶ï¼ŒiOS ä¸Šé¢ä¸€èˆ¬æ²¡é—®é¢˜ï¼ŒAndroidç”±äºç¢ç‰‡åŒ–æ¯”è¾ƒä¸¥é‡ï¼Œå¯èƒ½ä¼šåœ¨ä¸åŒæœºå‹ä¸Šå‡ºç°å„ç§å¥‡æ€ªé—®é¢˜ï¼Œæ¯”å¦‚ï¼Œçº¢ç±³éƒ¨åˆ†æœºå‹å€ŸåŠ©äº <code>permission_hanlder</code> æ’ä»¶ç”³è¯·å®šä½æƒé™å¯èƒ½ä¼šå¤±è´¥çš„é—®é¢˜ï¼Œè¿™é‡Œéœ€è¦æ³¨æ„ä¸€ä¸‹ï¼Œç•™ä¸ªå¿ƒçœ¼ã€‚</p>
</li>
<li><p>Logo é…ç½®</p>
<p>Logo éœ€è¦åœ¨ <code>android/app/src/main/res</code> ä¸­æ·»åŠ å’Œé…ç½®ï¼Œä¸€èˆ¬åªéœ€è¦å‡†å¤‡ <code>hdpi</code>ã€<code>mdpi</code>ã€<code>xhdpi</code>ã€<code>xxhdpi</code>ã€<code>xxxhdpi</code>æ ¼å¼å³å¯ã€‚å¦å¤–ï¼ŒAndroid8.0 åŠä»¥ä¸Šéœ€è¦é€‚é…åœ†è§’logoï¼Œå¦åˆ™åœ¨éƒ¨åˆ†é«˜ç‰ˆæœ¬æœºå‹ä¸Šä¼šæ˜¾ç¤º Android é»˜è®¤çš„æœºå™¨äººlogoã€‚</p>
<p>å…·ä½“å¯ä»¥å‚è€ƒè¯¥æ–‡ç« ï¼š<a href="https://blog.csdn.net/guolin_blog/article/details/79417483">https://blog.csdn.net/guolin_blog/article/details/79417483</a></p>
</li>
<li><p>æ‰“åŒ…</p>
<p>ä¸€èˆ¬æƒ…å†µä¸‹æˆ‘ä»¬é€šè¿‡ <code>flutter build apk</code> æ¥æ‰“åŒ…ï¼Œç”Ÿæˆçš„å®‰è£…åœ¨ <em>build/app/outputs/apk/release</em> ç›®å½•ä¸‹ï¼Œè¿™æ ·æ‰“å‡ºæ¥çš„åŒ…ä¸€èˆ¬æ¯”è¾ƒå¤§ï¼Œå› ä¸ºå®ƒåŒ…å«äº† <code>arm64-v8a</code>ã€<code>armeabi-v7a</code> å’Œ <code>x86_64</code> ä¸‰ç§cpuæ¶æ„çš„åŒ…ã€‚å¤§å®¶å¯ä»¥æ ¹æ®éœ€è¦æœ‰é€‰æ‹©æ€§çš„é’ˆå¯¹ç‰¹å®šæœºå‹çš„cpuæ¶æ„æ‰“åŒ…ï¼Œæ‰§è¡Œå¦‚ä¸‹å‘½ä»¤å³å¯ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">flutter build apk --target-platform android-arm,android-arm64,android-x64 --split-per-abi</span><br></pre></td></tr></table></figure>

<p>æ‰§è¡Œå®Œæ¯•åå°±ä¼šåœ¨ <code>release</code> ç›®å½•ä¸‹ç”Ÿæˆä¸‰ç§æ ¼å¼çš„apkåŒ…ã€‚</p>
<p>å¦å¤–ï¼Œå¤§å®¶å¯ä»¥é€‰æ‹©ä¸€äº›apkä½“ç§¯ä¼˜åŒ–çš„æ–¹æ¡ˆï¼Œå…·ä½“å¯å‚è€ƒï¼š</p>
<p><a href="https://my.oschina.net/u/1464083/blog/2395914">https://my.oschina.net/u/1464083/blog/2395914</a></p>
<p><a href="https://www.jianshu.com/p/555c948e5195">https://www.jianshu.com/p/555c948e5195</a></p>
</li>
</ol>
<h4 id="iOS-æ–¹é¢"><a href="#iOS-æ–¹é¢" class="headerlink" title="iOS æ–¹é¢"></a>iOS æ–¹é¢</h4><p>ç”±äºæœ¬äººä¹‹å‰åš Android å¼€å‘ï¼Œæ²¡æœ‰æ¥è§¦è¿‡ iOSï¼Œæ‰€ä»¥æ‰“åŒ…åˆ° iOS å¹³å°è¿˜æ˜¯é‡åˆ°ä¸å°‘é—®é¢˜ã€‚</p>
<ol>
<li><p>å¼€å‘å·¥å…·ï¼š</p>
<p>Xcode11.3.1 ç¨³å®šç‰ˆ (æ‰“åŒ…ç¯å¢ƒ) + Visual Studio Code 1.42.1 (ç¼–ç ç¯å¢ƒ)</p>
</li>
<li><p>ä»£ç ç¼–è¯‘ç¯å¢ƒï¼šSwift + Objective-C (ç›®å‰åˆ›å»ºFlutteré¡¹ç›®é»˜è®¤å‹¾é€‰ä¸ºswiftï¼Œç”±äºé¡¹ç›®å¯åŠ¨æ—¶Flutterå°šæœªæ›´æ–°è¯¥é…ç½®ï¼Œæ‰€ä»¥é¡¹ç›®ä¸­éƒ¨åˆ†æ’ä»¶é‡‡ç”¨çš„æ˜¯oc)ï¼Œå¸Œæœ›åé¢é€æ­¥æ›¿æ¢ä¸ºä¸»æµçš„swiftã€‚</p>
</li>
<li><p>ç‰ˆæœ¬å·é…ç½®ï¼š</p>
<p>åªéœ€è¦åœ¨Xcodeä¸­ <code>Runner -&gt; targets -&gt; General -&gt; Identity</code> é…ç½®å³å¯ã€‚</p>
</li>
<li><p>ç½‘ç»œé…ç½®</p>
<p>iOS ä¸­ï¼Œå®˜æ–¹åŒæ ·çº¦æŸæˆ‘ä»¬ä½¿ç”¨ https è¯·æ±‚ï¼Œå¦‚æœæˆ‘ä»¬éœ€è¦æš‚æ—¶ä½¿ç”¨httpæ ¼å¼è¯·æ±‚æ¥æµ‹è¯•ï¼Œå¯ä»¥åšå¦‚ä¸‹é…ç½®ï¼š</p>
<p>åœ¨ <code>Runner -&gt; targets -&gt; General -&gt; Info</code> ä¸­æ·»åŠ  <code>App Transport Security Settings</code> å±æ€§ï¼Œå¹¶åœ¨æ­¤å±æ€§æ ‡ç­¾å†…æ·»åŠ  <code>Allow Arbitrary Loads</code> å­å±æ€§ï¼Œå¹¶å°†å€¼è®¾ç½®ä¸º <code>YES</code> å³å¯ã€‚</p>
</li>
<li><p>Logoé…ç½®</p>
<p>iOS ä¸­çš„ logo é…ç½®åªéœ€è¦æ‰¾åˆ°å¦‚ä¸‹å…¥å£ï¼š</p>
<p> <img src="https://user-gold-cdn.xitu.io/2020/3/26/17115ad8e38a8eb0?w=797&h=657&f=png&s=76335"></p>
<p>ç‚¹å‡» â¡ï¸ å³å¯è¿›å…¥ logo èµ„æºç›®å½•ï¼Œé»˜è®¤çš„ä¸º Flutter çš„å®˜æ–¹ logoï¼Œæˆ‘ä»¬åªéœ€è¦æ ¹æ®å…·ä½“ logo å°ºå¯¸å»æ›¿æ¢èµ„æºå³å¯ã€‚</p>
</li>
<li><p>å›½é™…åŒ–è¯­è¨€é…ç½®</p>
<p>é¡¹ç›®ä¸­å¦‚æœæ”¯æŒå›½é™…åŒ–è¯­è¨€ï¼ŒAndroid ä¸­æ— éœ€é¢å¤–é…ç½®ï¼ŒiOS ä¸­éœ€è¦åœ¨ <code>Info.plist</code> ä¸­æ·»åŠ  <code>Localized resource can be mixed</code> å±æ€§ï¼Œå¹¶è®¾ç½®å€¼ä¸º <code>YES</code> å³å¯ï¼Œå¦åˆ™APPè¿è¡Œåå¯èƒ½ä¼šå‡ºç°å®é™…å±•ç¤ºçš„æ˜¯è‹±æ–‡çš„æƒ…å†µã€‚</p>
</li>
<li><p>æ‰“åŒ…ç›¸å…³</p>
<p>Xcodeæ‰“åŒ…æ—¶åˆ‡è®°è¦ä½¿ç”¨ç¨³å®šç‰ˆï¼Œä¸è¦ä½¿ç”¨ <code>beta</code> ç‰ˆæœ¬ï¼Œå¦åˆ™å¯èƒ½ä¼šå‡ºç°ä¸‹é¢çš„é—®é¢˜ï¼š<br> <img src="https://user-gold-cdn.xitu.io/2020/3/26/17115ac013934e80?w=745&h=450&f=png&s=37091"></p>
</li>
</ol>
<p>ä»¥ä¸Šå°±æ˜¯æœ¬äººå¯¹è¿‘æœŸ Flutter å¼€å‘è¿‡ç¨‹çš„ä¸€ç‚¹ç®€å•æ€»ç»“ï¼Œå¦‚æœèƒ½å¤Ÿå¸®åŠ©åˆ°æ‚¨é‚£å°†å†å¥½ä¸è¿‡ğŸ˜„ã€‚åˆšæ¥è§¦ Flutter ä¸ä¹…ï¼Œç›¸å…³é˜è¿°å¯èƒ½ä¸å¤Ÿä¸¥è°¨æˆ–å­˜åœ¨ç†è§£é”™è¯¯ï¼Œå¦‚æ‚¨å‘ç°ï¼Œè¿˜è¯·æŒ‡å‡ºï¼Œæ„Ÿè°¢æ‚¨çš„é˜…è¯»ã€‚</p>
</div><div class="article-tags size-small mb-4"><span class="mr-2">#</span><a class="link-muted mr-2" rel="tag" href="/tags/Flutter/">Flutter</a></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js@1.0.16/dist/css/share.min.css"><div class="social-share"></div><script src="https://cdn.jsdelivr.net/npm/social-share.js@1.0.16/dist/js/social-share.min.js"></script></article></div><!--!--><nav class="post-navigation mt-4 level is-mobile"><div class="level-start"><a class="article-nav-prev level level-item link-muted" href="/2020/06/29/android-proguard/"><i class="level-item fas fa-chevron-left"></i><span class="level-item">ä¸€ç¯‡æ–‡ç« å¸¦ä½ é¢†ç•¥Androidæ··æ·†çš„é­…åŠ›</span></a></div><div class="level-end"><a class="article-nav-next level level-item link-muted" href="/2020/02/18/flutter-timer/"><span class="level-item">Flutter ä¸­â€œå€’è®¡æ—¶â€çš„é‚£äº›äº‹å„¿</span><i class="level-item fas fa-chevron-right"></i></a></div></nav><div class="card"><div class="card-content"><h3 class="title is-5">è¯„è®º</h3><div id="comment-container"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/gitalk@1.6.2/dist/gitalk.css"><script src="https://cdn.jsdelivr.net/npm/gitalk@1.6.2/dist/gitalk.min.js"></script><script>var gitalk = new Gitalk({
            id: '5508441930dc38be04cdf735260fc35b',
            repo: 'Moosphan.github.io',
            owner: 'Moosphan',
            clientID: 'dc647e1369a56ca7d0ca',
            clientSecret: '31a92ba8e7783a092d0dee1b591657b0afa9c931',
            admin: "Moosphan",
            createIssueManually: false,
            distractionFreeMode: false,
            perPage: 10,
            pagerDirection: 'last',
            
            
            enableHotKey: true
        })
        gitalk.render('comment-container')</script></div></div></div><div class="column column-left is-4-tablet is-4-desktop is-3-widescreen  order-1"><div class="card widget"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="avatar is-rounded" src="/img/avatar.png" alt="Hulk"></figure><p class="title is-size-4 is-block line-height-inherit">Hulk</p><p class="is-size-6 is-block">æ— åä¹‹è¾ˆï¼ŒåŠŸèµ·äºç»†å¾®</p><p class="is-size-6 is-flex justify-content-center"><i class="fas fa-map-marker-alt mr-1"></i><span>ShangHai @China</span></p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">æ–‡ç« </p><a href="/archives"><p class="title">29</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">åˆ†ç±»</p><a href="/categories"><p class="title">16</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">æ ‡ç­¾</p><a href="/tags"><p class="title">38</p></a></div></div></nav><div class="level"><a class="level-item button is-primary is-rounded" href="https://github.com/Moosphan" target="_blank" rel="noopener">å…³æ³¨æˆ‘</a></div><div class="level is-mobile"><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Github" href="https://github.com/Moosphan"><i class="fab fa-github"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Facebook" href="https://facebook.com"><i class="fab fa-facebook"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Twitter" href="https://twitter.com"><i class="fab fa-twitter"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Dribbble" href="https://dribbble.com"><i class="fab fa-dribbble"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="RSS" href="/"><i class="fas fa-rss"></i></a></div></div></div><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">é“¾æ¥</h3><ul class="menu-list"><li><a class="level is-mobile is-mobile" href="https://medium.com/@moosphon" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">Medium</span></span><span class="level-right"><span class="level-item tag">medium.com</span></span></a></li><li><a class="level is-mobile is-mobile" href="https://juejin.im/user/2946346891100285" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">æ˜é‡‘</span></span><span class="level-right"><span class="level-item tag">juejin.im</span></span></a></li><li><a class="level is-mobile is-mobile" href="https://www.jianshu.com/u/c8cb84295426" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">ç®€ä¹¦</span></span><span class="level-right"><span class="level-item tag">www.jianshu.com</span></span></a></li></ul></div></div></div><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">åˆ†ç±»</h3><ul class="menu-list"><li><a class="level is-mobile is-marginless" href="/categories/Android/"><span class="level-start"><span class="level-item">Android</span></span><span class="level-end"><span class="level-item tag">11</span></span></a><ul class="mr-0"><li><a class="level is-mobile is-marginless" href="/categories/Android/Architecture/"><span class="level-start"><span class="level-item">Architecture</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/Android/Proguard/"><span class="level-start"><span class="level-item">Proguard</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/Android/%E5%8A%A8%E7%94%BB/"><span class="level-start"><span class="level-item">åŠ¨ç”»</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/Android/%E5%9C%B0%E5%9B%BE%E5%BC%80%E5%8F%91/"><span class="level-start"><span class="level-item">åœ°å›¾å¼€å‘</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/Android/%E5%BC%80%E6%BA%90/"><span class="level-start"><span class="level-item">å¼€æº</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></li><li><a class="level is-mobile is-marginless" href="/categories/Android-Gradle/"><span class="level-start"><span class="level-item">Android Gradle</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/Flutter/"><span class="level-start"><span class="level-item">Flutter</span></span><span class="level-end"><span class="level-item tag">4</span></span></a><ul class="mr-0"><li><a class="level is-mobile is-marginless" href="/categories/Flutter/Dart/"><span class="level-start"><span class="level-item">Dart</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></li><li><a class="level is-mobile is-marginless" href="/categories/Google/"><span class="level-start"><span class="level-item">Google</span></span><span class="level-end"><span class="level-item tag">1</span></span></a><ul class="mr-0"><li><a class="level is-mobile is-marginless" href="/categories/Google/Meeting/"><span class="level-start"><span class="level-item">Meeting</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></li><li><a class="level is-mobile is-marginless" href="/categories/Jcenter/"><span class="level-start"><span class="level-item">Jcenter</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/Kotlin/"><span class="level-start"><span class="level-item">Kotlin</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/Mac/"><span class="level-start"><span class="level-item">Mac</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/%E4%B8%AA%E4%BA%BA%E6%80%BB%E7%BB%93/"><span class="level-start"><span class="level-item">ä¸ªäººæ€»ç»“</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E6%B8%B8%E6%88%8F/"><span class="level-start"><span class="level-item">å¾®ä¿¡å°æ¸¸æˆ</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li></ul></div></div></div><div class="card widget"><div class="card-content"><h3 class="menu-label">æœ€æ–°æ–‡ç« </h3><article class="media"><div class="media-content size-small"><p><time dateTime="2020-08-19T05:48:35.000Z">2020-08-19</time></p><p class="title is-6"><a class="link-muted" href="/2020/08/19/Android-Gradle3-0%E5%BC%80%E5%A7%8BImplementation-%E4%B8%8E-Api%E7%9A%84%E7%88%B1%E6%81%A8%E6%83%85%E4%BB%87/">Android Gradle3.0å¼€å§‹Implementation ä¸ Apiçš„çˆ±æ¨æƒ…ä»‡</a></p><p class="is-uppercase"><a class="link-muted" href="/categories/Android-Gradle/">Android Gradle</a></p></div></article><article class="media"><div class="media-content size-small"><p><time dateTime="2020-08-12T11:28:12.000Z">2020-08-12</time></p><p class="title is-6"><a class="link-muted" href="/2020/08/12/MotionLayout%EF%BC%9A%E5%B8%A6%E4%BD%A0%E8%BF%9B%E5%85%A5%E5%8A%A8%E7%94%BB%E6%96%B0%E4%B8%96%E7%95%8C/">MotionLayout:)å¸¦ä½ è¿›å…¥åŠ¨ç”»æ–°ä¸–ç•Œ</a></p><p class="is-uppercase"><a class="link-muted" href="/categories/Android/">Android</a> / <a class="link-muted" href="/categories/Android/%E5%8A%A8%E7%94%BB/">åŠ¨ç”»</a></p></div></article><article class="media"><div class="media-content size-small"><p><time dateTime="2020-06-29T09:01:52.000Z">2020-06-29</time></p><p class="title is-6"><a class="link-muted" href="/2020/06/29/android-proguard/">ä¸€ç¯‡æ–‡ç« å¸¦ä½ é¢†ç•¥Androidæ··æ·†çš„é­…åŠ›</a></p><p class="is-uppercase"><a class="link-muted" href="/categories/Android/">Android</a> / <a class="link-muted" href="/categories/Android/Proguard/">Proguard</a></p></div></article><article class="media"><div class="media-content size-small"><p><time dateTime="2020-04-19T15:37:12.000Z">2020-04-19</time></p><p class="title is-6"><a class="link-muted" href="/2020/04/19/flutter-tips/">Flutter å¼€å‘å°ç»“ | Tips</a></p><p class="is-uppercase"><a class="link-muted" href="/categories/Flutter/">Flutter</a></p></div></article><article class="media"><div class="media-content size-small"><p><time dateTime="2020-02-18T13:20:55.000Z">2020-02-18</time></p><p class="title is-6"><a class="link-muted" href="/2020/02/18/flutter-timer/">Flutter ä¸­â€œå€’è®¡æ—¶â€çš„é‚£äº›äº‹å„¿</a></p><p class="is-uppercase"><a class="link-muted" href="/categories/Flutter/">Flutter</a></p></div></article></div></div><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">å½’æ¡£</h3><ul class="menu-list"><li><a class="level is-mobile is-marginless" href="/archives/2020/08/"><span class="level-start"><span class="level-item">å…«æœˆ 2020</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2020/06/"><span class="level-start"><span class="level-item">å…­æœˆ 2020</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2020/04/"><span class="level-start"><span class="level-item">å››æœˆ 2020</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2020/02/"><span class="level-start"><span class="level-item">äºŒæœˆ 2020</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2020/01/"><span class="level-start"><span class="level-item">ä¸€æœˆ 2020</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2019/10/"><span class="level-start"><span class="level-item">åæœˆ 2019</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2019/08/"><span class="level-start"><span class="level-item">å…«æœˆ 2019</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2019/05/"><span class="level-start"><span class="level-item">äº”æœˆ 2019</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2019/03/"><span class="level-start"><span class="level-item">ä¸‰æœˆ 2019</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2018/12/"><span class="level-start"><span class="level-item">åäºŒæœˆ 2018</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2018/09/"><span class="level-start"><span class="level-item">ä¹æœˆ 2018</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2018/08/"><span class="level-start"><span class="level-item">å…«æœˆ 2018</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2018/05/"><span class="level-start"><span class="level-item">äº”æœˆ 2018</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2018/04/"><span class="level-start"><span class="level-item">å››æœˆ 2018</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2018/03/"><span class="level-start"><span class="level-item">ä¸‰æœˆ 2018</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2018/01/"><span class="level-start"><span class="level-item">ä¸€æœˆ 2018</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2017/11/"><span class="level-start"><span class="level-item">åä¸€æœˆ 2017</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2017/09/"><span class="level-start"><span class="level-item">ä¹æœˆ 2017</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li></ul></div></div></div><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">æ ‡ç­¾</h3><div class="field is-grouped is-grouped-multiline"><div class="control"><a class="tags has-addons" href="/tags/Android/"><span class="tag">Android</span><span class="tag is-grey-lightest">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Android-architecture/"><span class="tag">Android architecture</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Android-tools/"><span class="tag">Android tools</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Android-%E5%8A%A8%E7%94%BB/"><span class="tag">Android åŠ¨ç”»</span><span class="tag is-grey-lightest">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Anko/"><span class="tag">Anko</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/AppBar/"><span class="tag">AppBar</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/ConstraintLayout/"><span class="tag">ConstraintLayout</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Dart/"><span class="tag">Dart</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Flutter/"><span class="tag">Flutter</span><span class="tag is-grey-lightest">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Google/"><span class="tag">Google</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Google-develop-days/"><span class="tag">Google develop days</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Gradle/"><span class="tag">Gradle</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Image-selector/"><span class="tag">Image selector</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Jcenter/"><span class="tag">Jcenter</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Kotlin/"><span class="tag">Kotlin</span><span class="tag is-grey-lightest">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Layabox/"><span class="tag">Layabox</span><span class="tag is-grey-lightest">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/MVP/"><span class="tag">MVP</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Mac/"><span class="tag">Mac</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Marker%E8%81%9A%E5%90%88/"><span class="tag">Markerèšåˆ</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/MotionLayout/"><span class="tag">MotionLayout</span><span class="tag is-grey-lightest">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Proguard/"><span class="tag">Proguard</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Python/"><span class="tag">Python</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/UI%E6%95%88%E6%9E%9C/"><span class="tag">UIæ•ˆæœ</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E5%9C%B0%E5%9B%BE%E5%AF%BC%E8%88%AA/"><span class="tag">åœ°å›¾å¯¼èˆª</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E5%B1%95%E4%BC%9A/"><span class="tag">å±•ä¼š</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E5%BC%80%E5%8F%91%E6%95%88%E7%8E%87/"><span class="tag">å¼€å‘æ•ˆç‡</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E5%BC%80%E6%BA%90/"><span class="tag">å¼€æº</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E6%B8%B8%E6%88%8F/"><span class="tag">å¾®ä¿¡å°æ¸¸æˆ</span><span class="tag is-grey-lightest">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E5%BF%AB%E6%8D%B7%E9%94%AE/"><span class="tag">å¿«æ·é”®</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E6%80%BB%E7%BB%93/"><span class="tag">æ€»ç»“</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E6%9C%AA%E6%9D%A5%E8%A7%84%E5%88%92/"><span class="tag">æœªæ¥è§„åˆ’</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E6%B8%B8%E6%88%8F%E6%8E%92%E8%A1%8C%E6%A6%9C/"><span class="tag">æ¸¸æˆæ’è¡Œæ¦œ</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E6%B8%B8%E6%88%8F%E8%84%9A%E6%9C%AC/"><span class="tag">æ¸¸æˆè„šæœ¬</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E8%87%AA%E5%AE%9A%E4%B9%89Marker/"><span class="tag">è‡ªå®šä¹‰Marker</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E8%AF%84%E8%AE%BA%E5%9B%9E%E5%A4%8D/"><span class="tag">è¯„è®ºå›å¤</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E8%AF%BB%E4%B9%A6/"><span class="tag">è¯»ä¹¦</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E8%BE%93%E5%85%A5%E6%8F%90%E7%A4%BA/"><span class="tag">è¾“å…¥æç¤º</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E9%AB%98%E5%BE%B7%E5%9C%B0%E5%9B%BE/"><span class="tag">é«˜å¾·åœ°å›¾</span><span class="tag is-grey-lightest">4</span></a></div></div></div></div></div><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">è®¢é˜…æ›´æ–°</h3><form action="https://feedburner.google.com/fb/a/mailverify" method="post" target="popupwindow" onsubmit="window.open(&#039;https://feedburner.google.com/fb/a/mailverify?uri=&#039;,&#039;popupwindow&#039;,&#039;scrollbars=yes,width=550,height=520&#039;);return true"><input type="hidden" value="" name="uri"><input type="hidden" name="loc" value="en_US"><div class="field has-addons"><div class="control has-icons-left is-expanded"><input class="input" name="email" type="email" placeholder="Email"><span class="icon is-small is-left"><i class="fas fa-envelope"></i></span></div><div class="control"><input class="button is-primary" type="submit" value="è®¢é˜…"></div></div></form></div></div></div><div class="column-right-shadow is-hidden-widescreen"></div></div><div class="column column-right is-4-tablet is-4-desktop is-3-widescreen is-hidden-touch is-hidden-desktop-only order-3"><div class="card widget" id="toc"><div class="card-content"><div class="menu"><h3 class="menu-label">ç›®å½•</h3><ul class="menu-list"><li><a class="is-flex" href="#UI-ç»„ä»¶ä½¿ç”¨"><span class="mr-2">1</span><span>UI ç»„ä»¶ä½¿ç”¨</span></a><ul class="menu-list"><li><a class="is-flex" href="#TextField"><span class="mr-2">1.1</span><span>TextField</span></a></li><li><a class="is-flex" href="#Container"><span class="mr-2">1.2</span><span>Container</span></a></li><li><a class="is-flex" href="#SafeArea"><span class="mr-2">1.3</span><span>SafeArea</span></a></li><li><a class="is-flex" href="#åˆ—è¡¨ç»„ä»¶"><span class="mr-2">1.4</span><span>åˆ—è¡¨ç»„ä»¶</span></a></li><li><a class="is-flex" href="#è‡ªå®šä¹‰å¼¹çª—"><span class="mr-2">1.5</span><span>è‡ªå®šä¹‰å¼¹çª—</span></a></li><li><a class="is-flex" href="#InkWell"><span class="mr-2">1.6</span><span>InkWell</span></a></li><li><a class="is-flex" href="#IconButton"><span class="mr-2">1.7</span><span>IconButton</span></a></li><li><a class="is-flex" href="#Theme-ç›¸å…³"><span class="mr-2">1.8</span><span>Theme ç›¸å…³</span></a></li></ul></li><li><a class="is-flex" href="#åŠŸèƒ½éœ€æ±‚å®ç°"><span class="mr-2">2</span><span>åŠŸèƒ½éœ€æ±‚å®ç°</span></a><ul class="menu-list"><li><a class="is-flex" href="#å½“å‰è®¾å¤‡çš„ç³»ç»Ÿè¯­è¨€"><span class="mr-2">2.1</span><span>å½“å‰è®¾å¤‡çš„ç³»ç»Ÿè¯­è¨€</span></a></li><li><a class="is-flex" href="#ç¬¬ä¸‰æ–¹ç™»å½•-åˆ†äº«"><span class="mr-2">2.2</span><span>ç¬¬ä¸‰æ–¹ç™»å½•/åˆ†äº«</span></a></li><li><a class="is-flex" href="#LottieåŠ¨ç”»"><span class="mr-2">2.3</span><span>LottieåŠ¨ç”»</span></a></li><li><a class="is-flex" href="#å¤–éƒ¨å­—ä½“ä¸‹è½½å’ŒåŠ è½½"><span class="mr-2">2.4</span><span>å¤–éƒ¨å­—ä½“ä¸‹è½½å’ŒåŠ è½½</span></a></li></ul></li><li><a class="is-flex" href="#æ‰“åŒ…ä¸Šæ¶ç›¸å…³"><span class="mr-2">3</span><span>æ‰“åŒ…ä¸Šæ¶ç›¸å…³</span></a><ul class="menu-list"><li><a class="is-flex" href="#Androidæ–¹é¢"><span class="mr-2">3.1</span><span>Androidæ–¹é¢</span></a></li><li><a class="is-flex" href="#iOS-æ–¹é¢"><span class="mr-2">3.2</span><span>iOS æ–¹é¢</span></a></li></ul></li></ul></div></div></div></div></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img src="/img/logo.png" alt="Hulk" height="28"></a><p class="size-small"><span>&copy; 2020 Hulk</span>Â Â Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>Â &amp;Â <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a></p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/ppoffice/hexo-theme-icarus"><i class="fab fa-github"></i></a></p></div></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script>moment.locale("zh-CN");</script><script>var IcarusThemeSettings = {
            site: {
                url: 'https://moosphan.github.io',
                external_link: {"enable":true,"exclude":[]}
            },
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script><script src="/js/animation.js"></script><a id="back-to-top" title="å›åˆ°é¡¶ç«¯" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><!--!--><script src="/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="æƒ³è¦æŸ¥æ‰¾ä»€ä¹ˆ..."></div><a class="searchbox-close" href="javascript:;">Ã—</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"æƒ³è¦æŸ¥æ‰¾ä»€ä¹ˆ...","untitled":"(æ— æ ‡é¢˜)","posts":"æ–‡ç« ","pages":"é¡µé¢","categories":"åˆ†ç±»","tags":"æ ‡ç­¾"});
        });</script></body></html>