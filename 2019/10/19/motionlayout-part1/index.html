<!doctype html>
<html lang="zh"><head><meta charset="utf-8"><meta name="generator" content="Hexo 4.2.1"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta><title>MotionLayout:)æ‰“å¼€åŠ¨ç”»æ–°ä¸–ç•Œå¤§é—¨ - Hulk</title><meta description="æœ€åˆæ¥è§¦åˆ° MotionLayout æ˜¯åœ¨å›½å¤–çŸ¥ååšå®¢çš„ Android ä¸“æ ä¸Šã€‚ç¬¬ä¸€çœ¼è§åˆ° MotionLayout æ—¶æ— ç–‘æ˜¯å…´å¥‹çš„ï¼Œåœ¨ç»è¿‡ä½¿ç”¨å’Œç†Ÿæ‚‰äº†è¿™ä¸ªå¸ƒå±€ç»„ä»¶ä¹‹åï¼Œæˆ‘å°±æƒ³å°†è¿™ä»½å–œæ‚¦ä¼ é€’ç»™å›½å†…å¼€å‘è€…ï¼Œä»æ­¤â€œæ‹³æ‰“â€è®¾è®¡ï¼Œâ€œè„šè¸¢â€äº§å“ğŸ˜ã€‚å½“ç„¶ï¼Œç”±äºå…³äº MotionLayout çš„å¤–æ–‡ä¸“æ ç›¸å…³ä»‹ç»å·²è¶³å¤Ÿè¯¦ç»†ï¼Œæ‰€ä»¥æœ¬æ–‡ä»…å¯¹å…¶è¿›è¡Œæ€»ç»“å’Œç®€å•åº”ç”¨ã€‚è€è§„çŸ©ï¼Œæ­£æ–‡å¼€å§‹å‰å…ˆä¸Šä¸€å¼ å›¾ï¼š"><meta property="og:type" content="blog"><meta property="og:title" content="MotionLayout:)æ‰“å¼€åŠ¨ç”»æ–°ä¸–ç•Œå¤§é—¨"><meta property="og:url" content="https://moosphan.github.io/2019/10/19/motionlayout-part1/"><meta property="og:site_name" content="Hulk"><meta property="og:description" content="æœ€åˆæ¥è§¦åˆ° MotionLayout æ˜¯åœ¨å›½å¤–çŸ¥ååšå®¢çš„ Android ä¸“æ ä¸Šã€‚ç¬¬ä¸€çœ¼è§åˆ° MotionLayout æ—¶æ— ç–‘æ˜¯å…´å¥‹çš„ï¼Œåœ¨ç»è¿‡ä½¿ç”¨å’Œç†Ÿæ‚‰äº†è¿™ä¸ªå¸ƒå±€ç»„ä»¶ä¹‹åï¼Œæˆ‘å°±æƒ³å°†è¿™ä»½å–œæ‚¦ä¼ é€’ç»™å›½å†…å¼€å‘è€…ï¼Œä»æ­¤â€œæ‹³æ‰“â€è®¾è®¡ï¼Œâ€œè„šè¸¢â€äº§å“ğŸ˜ã€‚å½“ç„¶ï¼Œç”±äºå…³äº MotionLayout çš„å¤–æ–‡ä¸“æ ç›¸å…³ä»‹ç»å·²è¶³å¤Ÿè¯¦ç»†ï¼Œæ‰€ä»¥æœ¬æ–‡ä»…å¯¹å…¶è¿›è¡Œæ€»ç»“å’Œç®€å•åº”ç”¨ã€‚è€è§„çŸ©ï¼Œæ­£æ–‡å¼€å§‹å‰å…ˆä¸Šä¸€å¼ å›¾ï¼š"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://user-gold-cdn.xitu.io/2019/8/18/16ca4f3afe537b4f?w=220&amp;h=388&amp;f=gif&amp;s=2910185"><meta property="og:image" content="https://user-gold-cdn.xitu.io/2019/8/18/16ca4f424c2dc530?w=973&amp;h=709&amp;f=png&amp;s=74710"><meta property="og:image" content="https://user-gold-cdn.xitu.io/2019/8/18/16ca4f494ade8e8f?w=480&amp;h=267&amp;f=gif&amp;s=106098"><meta property="og:image" content="https://user-gold-cdn.xitu.io/2019/8/18/16ca4f4cf6fccc0d?w=480&amp;h=267&amp;f=gif&amp;s=81933"><meta property="og:image" content="https://user-gold-cdn.xitu.io/2019/8/18/16ca4f511987271b?w=230&amp;h=406&amp;f=gif&amp;s=181633"><meta property="og:image" content="https://user-gold-cdn.xitu.io/2019/8/18/16ca4f56c94abb3d?w=480&amp;h=266&amp;f=gif&amp;s=147065"><meta property="og:image" content="https://user-gold-cdn.xitu.io/2019/8/18/16ca4f5bb1b874a5?w=251&amp;h=372&amp;f=png&amp;s=41630"><meta property="og:image" content="https://user-gold-cdn.xitu.io/2019/8/18/16ca4f60667bc150?w=648&amp;h=362&amp;f=png&amp;s=21055"><meta property="og:image" content="https://user-gold-cdn.xitu.io/2019/8/18/16ca4f653135b802?w=230&amp;h=406&amp;f=gif&amp;s=263179"><meta property="article:published_time" content="2019-10-19T14:23:10.000Z"><meta property="article:modified_time" content="2020-08-20T12:30:12.002Z"><meta property="article:author" content="Hulk"><meta property="article:tag" content="MotionLayout"><meta property="article:tag" content="Android åŠ¨ç”»"><meta property="twitter:card" content="summary"><meta property="twitter:image" content="https://user-gold-cdn.xitu.io/2019/8/18/16ca4f3afe537b4f?w=220&amp;h=388&amp;f=gif&amp;s=2910185"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://moosphan.github.io/2019/10/19/motionlayout-part1/"},"headline":"Hulk","image":[],"datePublished":"2019-10-19T14:23:10.000Z","dateModified":"2020-08-20T12:30:12.002Z","author":{"@type":"Person","name":"Hulk"},"description":"æœ€åˆæ¥è§¦åˆ° MotionLayout æ˜¯åœ¨å›½å¤–çŸ¥ååšå®¢çš„ Android ä¸“æ ä¸Šã€‚ç¬¬ä¸€çœ¼è§åˆ° MotionLayout æ—¶æ— ç–‘æ˜¯å…´å¥‹çš„ï¼Œåœ¨ç»è¿‡ä½¿ç”¨å’Œç†Ÿæ‚‰äº†è¿™ä¸ªå¸ƒå±€ç»„ä»¶ä¹‹åï¼Œæˆ‘å°±æƒ³å°†è¿™ä»½å–œæ‚¦ä¼ é€’ç»™å›½å†…å¼€å‘è€…ï¼Œä»æ­¤â€œæ‹³æ‰“â€è®¾è®¡ï¼Œâ€œè„šè¸¢â€äº§å“ğŸ˜ã€‚å½“ç„¶ï¼Œç”±äºå…³äº MotionLayout çš„å¤–æ–‡ä¸“æ ç›¸å…³ä»‹ç»å·²è¶³å¤Ÿè¯¦ç»†ï¼Œæ‰€ä»¥æœ¬æ–‡ä»…å¯¹å…¶è¿›è¡Œæ€»ç»“å’Œç®€å•åº”ç”¨ã€‚è€è§„çŸ©ï¼Œæ­£æ–‡å¼€å§‹å‰å…ˆä¸Šä¸€å¼ å›¾ï¼š"}</script><link rel="canonical" href="https://moosphan.github.io/2019/10/19/motionlayout-part1/"><link rel="icon" href="/img/favicon.png"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.12.0/css/all.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/atom-one-light.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;600&amp;family=Source+Code+Pro"><link rel="stylesheet" href="/css/default.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><!--!--><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/css/justifiedGallery.min.css"><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script></head><body class="is-3-column"><nav class="navbar navbar-main"><div class="container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img src="/img/logo.png" alt="Hulk" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/archives">Home</a><a class="navbar-item" href="/archives">Archives</a><a class="navbar-item" href="/categories">Categories</a><a class="navbar-item" href="/tags">Tags</a><a class="navbar-item" href="/about">About</a></div><div class="navbar-end"><a class="navbar-item" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/ppoffice/hexo-theme-icarus"><i class="fab fa-github"></i></a><a class="navbar-item is-hidden-tablet catalogue" title="ç›®å½•" href="javascript:;"><i class="fas fa-list-ul"></i></a><a class="navbar-item search" title="æœç´¢" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-6-widescreen"><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2019-10-19T14:23:10.000Z" title="2019-10-19T14:23:10.000Z">2019-10-19</time><span class="level-item"><a class="link-muted" href="/categories/Android/">Android</a><span>Â /Â </span><a class="link-muted" href="/categories/Android/%E5%8A%A8%E7%94%BB/">åŠ¨ç”»</a></span><span class="level-item">26 åˆ†é’Ÿ è¯»å®Œ (å¤§çº¦ 3885 ä¸ªå­—)</span></div></div><h1 class="title is-3 is-size-4-mobile">MotionLayout:)æ‰“å¼€åŠ¨ç”»æ–°ä¸–ç•Œå¤§é—¨</h1><div class="content"><p>æœ€åˆæ¥è§¦åˆ° <strong>MotionLayout</strong> æ˜¯åœ¨å›½å¤–çŸ¥ååšå®¢çš„ <a href="https://medium.com/google-developers">Android ä¸“æ </a>ä¸Šã€‚ç¬¬ä¸€çœ¼è§åˆ° <code>MotionLayout</code> æ—¶æ— ç–‘æ˜¯å…´å¥‹çš„ï¼Œåœ¨ç»è¿‡ä½¿ç”¨å’Œç†Ÿæ‚‰äº†è¿™ä¸ªå¸ƒå±€ç»„ä»¶ä¹‹åï¼Œæˆ‘å°±æƒ³å°†è¿™ä»½å–œæ‚¦ä¼ é€’ç»™å›½å†…å¼€å‘è€…ï¼Œä»æ­¤â€œæ‹³æ‰“â€è®¾è®¡ï¼Œâ€œè„šè¸¢â€äº§å“ğŸ˜ã€‚å½“ç„¶ï¼Œç”±äºå…³äº <code>MotionLayout</code> çš„å¤–æ–‡ä¸“æ ç›¸å…³ä»‹ç»å·²è¶³å¤Ÿè¯¦ç»†ï¼Œæ‰€ä»¥æœ¬æ–‡ä»…å¯¹å…¶è¿›è¡Œæ€»ç»“å’Œç®€å•åº”ç”¨ã€‚è€è§„çŸ©ï¼Œæ­£æ–‡å¼€å§‹å‰å…ˆä¸Šä¸€å¼ å›¾ï¼š</p>
<p><img src="https://user-gold-cdn.xitu.io/2019/8/18/16ca4f3afe537b4f?w=220&h=388&f=gif&s=2910185"><a id="more"></a></p>
<h2 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h2><p>ç”±äºæœ¬æ–‡çš„å—ä¼—éœ€è¦æœ‰ä¸€ç‚¹ <code>ConstraintLayout</code> çš„ç”¨æ³•åŸºç¡€ï¼Œå¦‚æœä½ å¯¹å®ƒå¹¶ä¸ç†Ÿæ‚‰ï¼Œå¯ä»¥å…ˆå»èŠ±å‡ åˆ†é’Ÿçœ‹ä¸€ä¸‹æœ¬äººä¹‹å‰çš„è¯‘æ–‡ï¼š<a href="https://juejin.im/post/6844903608064933895">å¸¦ä½ é¢†ç•¥ ConstraintLayout 1.1 çš„æ–°åŠŸèƒ½</a>ã€‚å›åˆ°æ­£é¢˜ï¼Œä»€ä¹ˆæ˜¯ <strong><em>MotionLayout</em></strong> ï¼Ÿå¾ˆå¤šäººå¯èƒ½ä¼šå¯¹è¿™ä¸ªåè¯æ¯”è¾ƒé™Œç”Ÿï¼Œä½†å¦‚æœè¯´åˆ°å®ƒçš„å‰èº« â€” <strong><code>ConstraintLayout</code>*<em>ï¼Œå¤§å®¶åº”è¯¥å°±å¤šå°‘æœ‰äº›äº†è§£äº†ã€‚</em>MotionLayout* å…¶å®æ˜¯  Google åœ¨å»å¹´å¼€å‘è€…å¤§ä¼šä¸Šæ–°æ¨çš„å¸ƒå±€ç»„ä»¶ã€‚æˆ‘ä»¬å…ˆæ¥çœ‹çœ‹ **Android å®˜æ–¹</strong>å¯¹äºå®ƒçš„å®šä¹‰ï¼š</p>
<blockquote>
<p><strong><em><a href="https://developer.android.com/reference/android/support/constraint/motion/MotionLayout">MotionLayout</a> is a layout type that helps you manage motion and widget animation in your app. MotionLayout is a subclass of <a href="https://developer.android.com/training/constraint-layout"><code>ConstraintLayout</code></a> and builds upon its rich layout capabilities.</em></strong></p>
</blockquote>
<p>ç®€å•ç¿»è¯‘è¿‡æ¥å°±æ˜¯ï¼š<code>MotionLayout</code> æ˜¯ä¸€ä¸ªèƒ½å¤Ÿå¸®åŠ©æˆ‘ä»¬åœ¨ app ä¸­<strong>ç®¡ç†æ‰‹åŠ¿</strong>å’Œæ§ä»¶<strong>åŠ¨ç”»</strong>çš„å¸ƒå±€ç»„ä»¶ã€‚å®ƒæ˜¯ <code>ConstraintLayout</code> çš„å­ç±»å¹¶ä¸”åŸºäºå®ƒè‡ªèº«ä¸°å¯Œçš„å¸ƒå±€åŠŸèƒ½æ¥è¿›è¡Œæ„å»ºã€‚</p>
<p>å½“ç„¶ï¼Œä½ ä¹Ÿå¯ä»¥æŒ‰ç…§å­—é¢æ„æ€å°†å®ƒç®€å•ç†è§£ä¸ºâ€œè¿åŠ¨å¸ƒå±€â€ã€‚ä¸ºä»€ä¹ˆè¿™ä¹ˆè¯´å‘¢ï¼Ÿé€šè¿‡ä¸Šå›¾æ¥å¯¹æ¯”ä¼ ç»Ÿçš„å¸ƒå±€ç»„ä»¶ï¼ˆå¦‚ï¼š<code>FrameLayout</code>ã€<code>LinearLayout</code> ç­‰ï¼‰ï¼Œæˆ‘ä»¬ä¸éš¾å‘ç°ï¼š<code>MotionLayout</code> æ˜¯å¸ƒå±€ç»„ä»¶ä¸­çš„ä¸€ä¸ªâ€œé‡Œç¨‹ç¢‘â€ï¼Œç”±æ­¤å¼€å§‹å°±å‘Šåˆ«äº† XML æ–‡ä»¶ä¸­åªèƒ½â€é™æ€â€œæ“ä½œ UI çš„å†å²ã€‚é€šè¿‡ <code>MotionLayout</code>ï¼Œæˆ‘ä»¬å°±èƒ½æ›´åŠ è½»æ˜“å¤„ç†å…¶å†…éƒ¨å­ <code>View</code> çš„æ‰‹åŠ¿æ“ä½œå’Œâ€è¿åŠ¨â€æ•ˆæœäº†ã€‚æ­£å¦‚ <em>Nicolas Roard</em> æ‰€è¯´çš„é‚£æ ·ï¼š</p>
<blockquote>
<p><em>ä½ å¯ä»¥åœ¨ MotionLayout åŠŸèƒ½æ–¹é¢å°†å…¶çœ‹ä½œæ˜¯å±æ€§åŠ¨ç”»ã€TransitionManager å’Œ CoordinatorLayout çš„ç»“åˆä½“</em>ã€‚</p>
</blockquote>
<h2 id="MotionLayout-åŸºç¡€"><a href="#MotionLayout-åŸºç¡€" class="headerlink" title="MotionLayout åŸºç¡€"></a>MotionLayout åŸºç¡€</h2><p>é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦ä» <code>MotionLayout</code> çš„ä¸€äº›åŸºæœ¬å±æ€§å’Œç”¨æ³•è®²èµ·ï¼Œè¿™æ ·å¯¹äºæˆ‘ä»¬åé¢çš„å®é™…æ“ä½œå°†ä¼šå¾ˆæœ‰å¸®åŠ©ã€‚</p>
<h4 id="å¼•å…¥-MotionLayout-åº“"><a href="#å¼•å…¥-MotionLayout-åº“" class="headerlink" title="å¼•å…¥ MotionLayout åº“"></a>å¼•å…¥ MotionLayout åº“</h4><figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">dependencies &#123;</span><br><span class="line">    implementation <span class="string">'com.android.support.constraint:constraint-layout:2.0.0-beta2'</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç›®å‰ï¼Œ<code>MotionLayout</code> ä»å¤„äº <code>beta</code> ç‰ˆæœ¬ï¼Œè™½ç„¶å®˜æ–¹ä¹‹å‰è¯´è¿‡ <code>MotionLayout</code> çš„åŠ¨ç”»è¾…åŠ©å·¥å…·å°†ä¼šåœ¨ <code>beta</code> ç‰ˆæœ¬æ¨å‡ºï¼Œä½†ç›®å‰è¿˜æ²¡æœ‰å‡ºç°ï¼Œä¸å‡ºæ„å¤–åº”è¯¥æ˜¯åœ¨ä¸‹ä¸€ä¸ªç‰ˆæœ¬äº†ã€‚åˆ°æ—¶å€™åº”è¯¥å°±å¯ä»¥åƒ <code>ConstraintLayout</code> é‚£æ ·ç›´æ¥é€šè¿‡å¸ƒå±€ç¼–è¾‘å™¨æ¥è¿›è¡Œéƒ¨åˆ†é¢„è§ˆå’Œå‚æ•°æ“ä½œäº†ã€‚</p>
<h4 id="åœ¨å¸ƒå±€æ–‡ä»¶ä¸­ä½¿ç”¨-MotionLayout"><a href="#åœ¨å¸ƒå±€æ–‡ä»¶ä¸­ä½¿ç”¨-MotionLayout" class="headerlink" title="åœ¨å¸ƒå±€æ–‡ä»¶ä¸­ä½¿ç”¨ MotionLayout"></a>åœ¨å¸ƒå±€æ–‡ä»¶ä¸­ä½¿ç”¨ MotionLayout</h4><p>æƒ³è¦ä½¿ç”¨ <code>MotionLayout</code>ï¼Œåªéœ€è¦åœ¨å¸ƒå±€æ–‡ä»¶ä¸­ä½œå¦‚ä¸‹å£°æ˜å³å¯ï¼š</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">android.support.constraint.motion.MotionLayout</span></span></span><br><span class="line"><span class="tag">        <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">xmlns:tools</span>=<span class="string">"http://schemas.android.com/tools"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">xmlns:app</span>=<span class="string">"http://schemas.android.com/apk/res-auto"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">app:layoutDescription</span>=<span class="string">"@xml/scene1"</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">android.support.constraint.motion.MotionLayout</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>ç”±äº <code>MotionLayout</code> ä½œä¸º <code>ConstraintLayout</code> çš„å­ç±»ï¼Œé‚£ä¹ˆå°±è‡ªç„¶è€Œç„¶åœ°å¯ä»¥åƒ <code>ConstraintLayout</code> é‚£æ ·ä½¿ç”¨å»â€œçº¦æŸâ€å­è§†å›¾äº†ï¼Œä¸è¿‡è¿™å¯å°±æœ‰ç‚¹â€œå¤§æå°ç”¨äº†â€ï¼Œ<code>MotionLayout</code> çš„ç”¨å¤„å¯è¿œä¸æ­¢è¿™äº›ã€‚æˆ‘ä»¬å…ˆæ¥çœ‹çœ‹ MotionLayout çš„æ„æˆï¼š</p>
<p><img src="https://user-gold-cdn.xitu.io/2019/8/18/16ca4f424c2dc530?w=973&h=709&f=png&s=74710"></p>
<p>ç”±ä¸Šå›¾å¯çŸ¥ï¼ŒMotionLayout å¯åˆ†ä¸º <em><code>&lt;View&gt;</code></em> å’Œ <em><code>&lt;Helper&gt;</code></em> ä¸¤ä¸ªéƒ¨åˆ†ã€‚*<code>&lt;View&gt;</code>* éƒ¨åˆ†å¯ç®€å•ç†è§£ä¸ºä¸€ä¸ª <code>ConstraintLayout</code>ï¼Œè‡³äº <em><code>&lt;Helper&gt;</code></em> å…¶å®å°±æ˜¯æˆ‘ä»¬çš„â€œåŠ¨ç”»å±‚â€äº†ã€‚MotionLayout ä¸ºæˆ‘ä»¬æä¾›äº† <code>layoutDescription</code> å±æ€§ï¼Œæˆ‘ä»¬éœ€è¦ä¸ºå®ƒä¼ å…¥ä¸€ä¸ª <code>MotionScene</code> åŒ…è£¹çš„ <code>XML</code> æ–‡ä»¶ï¼Œæƒ³è¦å®ç°åŠ¨ç”»äº¤äº’ï¼Œå°±å¿…é¡»é€šè¿‡è¿™ä¸ªâ€œåª’ä»‹â€æ¥è¿æ¥ã€‚</p>
<h2 id="MotionSceneï¼šä¼ è¯´ä¸­çš„â€œç™¾å®è¢‹â€"><a href="#MotionSceneï¼šä¼ è¯´ä¸­çš„â€œç™¾å®è¢‹â€" class="headerlink" title="MotionSceneï¼šä¼ è¯´ä¸­çš„â€œç™¾å®è¢‹â€"></a>MotionSceneï¼šä¼ è¯´ä¸­çš„â€œç™¾å®è¢‹â€</h2><p>ä»€ä¹ˆæ˜¯ MotionSceneï¼Ÿç»“åˆä¸Šå›¾ MotionScene ä¸»è¦ç”±ä¸‰éƒ¨åˆ†ç»„æˆï¼š**<code>StateSet</code><strong>ã€</strong><code>ConstraintSet</code>** å’Œ **<code>Transition</code>**ã€‚ä¸ºäº†è®©å¤§å®¶å¿«é€Ÿç†è§£å’Œä½¿ç”¨ MotionSceneï¼Œæœ¬æ–‡å°†é‡ç‚¹è®²è§£ <code>ConstarintSet</code> å’Œ <code>Transition</code>ï¼Œè‡³äº <code>StateSet</code> çŠ¶æ€ç®¡ç†å°†ä¼šåœ¨åç»­æ–‡ç« ä¸­ä¸ºå¤§å®¶ä»‹ç»å…·ä½“ç”¨æ³•å’Œåœºæ™¯ã€‚åŒæ—¶ï¼Œä¸ºäº†å¸®åŠ©å¤§å®¶ç†è§£ï¼Œæ­¤å¤„å°†å¼€å§‹ç»“åˆä¸€äº›å…·ä½“å°å®ä¾‹æ¥å¸®åŠ©å¤§å®¶å¿«é€Ÿç†è§£å’Œä½¿ç”¨å®ƒã€‚</p>
<p>é¦–å…ˆï¼Œæˆ‘ä»¬ä»å®ç°ä¸‹é¢è¿™ä¸ªç®€å•çš„æ•ˆæœè®²èµ·ï¼š</p>
<p><img src="https://user-gold-cdn.xitu.io/2019/8/18/16ca4f494ade8e8f?w=480&h=267&f=gif&s=106098"></p>
<p>GIF ç”»è´¨æœ‰ç‚¹æ¸£ï¼Œè§è°…ï¼Œä½†ä»ä¸Šå›¾æˆ‘ä»¬å¯ä»¥å‘ç°è¿™æ˜¯ä¸€ä¸ªç®€å•çš„å¹³ç§»åŠ¨ç”»ï¼Œé€šè¿‡ç‚¹å‡»è‡ªèº«ï¼ˆç¯®çƒï¼‰æ¥è§¦å‘ï¼Œè®©æˆ‘ä»¬æ¥é€šè¿‡ MotionLayout çš„æ–¹å¼æ¥å®ç°å®ƒã€‚é¦–å…ˆæ¥çœ‹ä¸‹å¸ƒå±€æ–‡ä»¶ï¼š</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">android.support.constraint.motion.MotionLayout</span></span></span><br><span class="line"><span class="tag">        <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">xmlns:tools</span>=<span class="string">"http://schemas.android.com/tools"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">xmlns:app</span>=<span class="string">"http://schemas.android.com/apk/res-auto"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">app:layoutDescription</span>=<span class="string">"@xml/step1"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">tools:context</span>=<span class="string">".practice.MotionSampleActivity"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ImageView</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:id</span>=<span class="string">"@+id/ball"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:src</span>=<span class="string">"@drawable/ic_basketball"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">android.support.constraint.motion.MotionLayout</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>å¸ƒå±€æ–‡ä»¶å¾ˆç®€å•ï¼Œåªä¸è¿‡ä½ å¯èƒ½ä¼šæ³¨æ„åˆ°ï¼Œæˆ‘ä»¬å¯¹ <code>ImageView</code> å¹¶æ²¡æœ‰æ·»åŠ ä»»ä½•çº¦æŸï¼ŒåŸå› åœ¨äºï¼šæˆ‘ä»¬ä¼šåœ¨ <code>MotionScene</code> ä¸­å£°æ˜ <code>ConstraintSet</code>ï¼Œé‡Œé¢å°†åŒ…å«è¯¥ <code>ImageView</code> çš„â€œè¿åŠ¨â€èµ·å§‹ç‚¹å’Œç»ˆç‚¹çš„çº¦æŸä¿¡æ¯ã€‚å½“ç„¶ä½ ä¹Ÿå¯ä»¥åœ¨å¸ƒå±€æ–‡ä»¶ä¸­å¯¹å…¶åŠ ä»¥çº¦æŸï¼Œ<strong>ä½† <code>MotionScene</code> ä¸­å¯¹äºæ§ä»¶çº¦æŸçš„ä¼˜å…ˆçº§ä¼šé«˜äºå¸ƒå±€æ–‡ä»¶ä¸­çš„è®¾å®š</strong>ã€‚è¿™é‡Œæˆ‘ä»¬é€šè¿‡ <code>layoutDescription</code> æ¥ä¸º <code>MotionLayout</code> è®¾ç½®å®ƒçš„ <code>MotionScene</code> ä¸º <code>step1</code>ï¼Œæ¥ä¸‹æ¥å°±è®©æˆ‘ä»¬ä¸€ç¹ <code>MotionScene</code> çš„èŠ³å®¹ï¼š</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span></span><br><span class="line"><span class="comment">&lt;!--describe the animation for activity_motion_sample_step1.xml--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">MotionScene</span> <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></span><br><span class="line"><span class="tag">             <span class="attr">xmlns:app</span>=<span class="string">"http://schemas.android.com/apk/res-auto"</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- A transition describes an animation via start and end state --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">Transition</span></span></span><br><span class="line"><span class="tag">        <span class="attr">app:constraintSetStart</span>=<span class="string">"@id/start"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">app:constraintSetEnd</span>=<span class="string">"@id/end"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">app:duration</span>=<span class="string">"2200"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">OnClick</span></span></span><br><span class="line"><span class="tag">                <span class="attr">app:targetId</span>=<span class="string">"@id/ball"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">app:clickAction</span>=<span class="string">"toggle"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">Transition</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- Constraints to apply at the start of the animation --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ConstraintSet</span> <span class="attr">android:id</span>=<span class="string">"@+id/start"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">Constraint</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:id</span>=<span class="string">"@+id/ball"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:layout_width</span>=<span class="string">"48dp"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:layout_height</span>=<span class="string">"48dp"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:layout_marginStart</span>=<span class="string">"12dp"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:layout_marginTop</span>=<span class="string">"12dp"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">app:layout_constraintStart_toStartOf</span>=<span class="string">"parent"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">app:layout_constraintTop_toTopOf</span>=<span class="string">"parent"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">ConstraintSet</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- Constraints to apply at the end of the animation --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ConstraintSet</span> <span class="attr">android:id</span>=<span class="string">"@+id/end"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">Constraint</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:id</span>=<span class="string">"@+id/ball"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:layout_width</span>=<span class="string">"48dp"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:layout_height</span>=<span class="string">"48dp"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:layout_marginEnd</span>=<span class="string">"12dp"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:layout_marginBottom</span>=<span class="string">"12dp"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">app:layout_constraintEnd_toEndOf</span>=<span class="string">"parent"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">app:layout_constraintBottom_toBottomOf</span>=<span class="string">"parent"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">ConstraintSet</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">MotionScene</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>é¦–å…ˆï¼Œå¯ä»¥å‘ç°æˆ‘ä»¬å®šä¹‰äº†ä¸¤ä¸ª <em><code>&lt;ConstraintSet&gt;</code>*ï¼Œåˆ†åˆ«æè¿°äº†è¿™ä¸ªğŸ€ <code>ImageView</code> çš„åŠ¨ç”»èµ·å§‹ä½ç½®ä»¥åŠç»“æŸä½ç½®çš„çº¦æŸä¿¡æ¯ï¼ˆä»…åŒ…å«å°‘é‡å¿…è¦ä¿¡æ¯ï¼Œå¦‚ï¼šwidthã€heightã€marginä»¥åŠä½ç½®å±æ€§ç­‰ï¼‰ã€‚æ˜¾è€Œæ˜“è§ï¼Œç¯®çƒçš„èµ·å§‹ä½ç½®ä¸ºå±å¹•å·¦ä¸Šè§’ï¼Œç»“æŸä½ç½®ä¸ºå±å¹•å³ä¸‹è§’ï¼Œé‚£ä¹ˆé—®é¢˜æ¥äº†ï¼Œå¦‚ä½•è®©å®ƒåŠ¨èµ·æ¥å‘¢ï¼Ÿè¿™å°±è¦ä¾é æˆ‘ä»¬çš„ *<code>&lt;Transition&gt;</code></em> å…ƒç´ äº†ã€‚äº‹å®ä¸Šï¼Œæˆ‘ä»¬éƒ½çŸ¥é“ï¼ŒåŠ¨ç”»éƒ½æ˜¯æœ‰å¼€å§‹ä½ç½®å’Œç»“æŸä½ç½®çš„ï¼Œè€Œ <code>MotionLayout</code> æ­£æ˜¯åˆ©ç”¨è¿™ä¸€å®¢è§‚äº‹å®ï¼Œå°†é¦–å°¾ä½ç½®å’ŒåŠ¨ç”»è¿‡ç¨‹åˆ†ç¦»ï¼Œä¸¤ä¸ªç‚¹ä½ç½®å’Œè·ç¦»è™½ç„¶æ˜¯å›ºå®šçš„ï¼Œä½†æ˜¯å®ƒä»¬ä¹‹é—´çš„ <strong>Path</strong> æ˜¯æ— é™çš„ï¼Œå¯ä»¥æ˜¯â€œä¸€é©¬å¹³å·â€ï¼Œä¹Ÿå¯ä»¥æ˜¯â€èœ¿èœ’æ›²æŠ˜â€çš„ã€‚</p>
<p>å›åˆ°ä¸Šé¢è¿™ä¸ªä¾‹å­ï¼Œæˆ‘ä»¬åªéœ€è¦ä¸º <code>Transition</code> è®¾ç½®èµ·å§‹ä½ç½®å’Œç»“æŸä½ç½®çš„ <code>ConstraintSet</code> å¹¶è®¾ç½®åŠ¨ç”»æ—¶é—´å³å¯ï¼Œå‰©ä¸‹çš„éƒ½äº¤ç»™ <code>MotionLayout</code> è‡ªåŠ¨å»å¸®æˆ‘ä»¬å®Œæˆã€‚å½“ç„¶ä½ ä¹Ÿå¯ä»¥é€šè¿‡ <code>onClick</code> ç‚¹å‡»äº‹ä»¶æ¥è§¦å‘åŠ¨ç”»ï¼Œç»‘å®šç›®æ ‡æ§ä»¶çš„ id ä»¥åŠé€šè¿‡ <code>clickAction</code> å±æ€§æ¥è®¾ç½®ç‚¹å‡»äº‹ä»¶çš„ç±»å‹ï¼Œè¿™é‡Œæˆ‘ä»¬è®¾ç½®çš„æ˜¯ <code>toggle</code>ï¼Œå³é€šè¿‡åå¤ç‚¹å‡»æ§ä»¶æ¥åˆ‡æ¢åŠ¨ç”»çš„çŠ¶æ€ï¼Œå…¶ä»–è¿˜æœ‰å¾ˆå¤šå±æ€§å¯ä»¥å‚ç…§å®˜æ–¹æ–‡æ¡£å»ç ”ç©¶ï¼Œæ¯”è¾ƒç®€å•ï¼Œè¿™é‡Œå°±ä¸ä¸€ä¸€è®²è§£å®ƒä»¬çš„æ•ˆæœäº†ã€‚å¦‚æ­¤ä¸€æ¥ï¼Œè¿è¡Œä¸€ä¸‹å°±èƒ½çœ‹åˆ°ä¸Šé¢çš„æ•ˆæœäº†ã€‚å¦å¤–ï¼Œä¸ºäº†æ–¹ä¾¿æµ‹è¯•ï¼Œæˆ‘ä»¬å¯ä»¥ç»™ <code>MotionLayout</code> åŠ ä¸Šè°ƒè¯•å±æ€§ï¼š*<code>app:motionDebug=&quot;SHOW_PATH&quot;</code>*ï¼Œç„¶åå°±èƒ½è½»æ˜“çš„æŸ¥çœ‹å…¶åŠ¨ç”»å†…éƒ¨çš„è¿åŠ¨è½¨è¿¹ï¼š</p>
<p><img src="https://user-gold-cdn.xitu.io/2019/8/18/16ca4f4cf6fccc0d?w=480&h=267&f=gif&s=81933"></p>
<p>ä»€ä¹ˆï¼Ÿä½ è¯´è¿™ä¸ªåŠ¨ç”»æ•ˆæœå¤ªåŸºç¡€ï¼Ÿé‚£å¥½ï¼Œæˆ‘å°±æ¥ä¸ªç®€é™‹ç‰ˆçš„â€œç™¾èŠ±é½æ”¾â€æ•ˆæœå§ï¼Œæ¯”å¦‚ä¸‹é¢è¿™æ ·ï¼š</p>
<p><img src="https://user-gold-cdn.xitu.io/2019/8/18/16ca4f511987271b?w=230&h=406&f=gif&s=181633"></p>
<p>é¦–å…ˆï¼Œè®©æˆ‘ä»¬åˆ†æä¸€ä¸‹è¿™ä¸ªæ•ˆæœï¼šä»”ç»†çœ‹æˆ‘ä»¬å¯ä»¥å‘ç°ï¼Œé€šè¿‡å‘ä¸Šæ»‘åŠ¨è“è‰²çš„ Android æœºå™¨äººï¼Œç´«è‰²å’Œæ©™è‰²çš„æœºå™¨äººä¼šæ…¢æ…¢æ·¡å‡ºå¹¶åˆ†åˆ«å¿˜å·¦ä¸Šè§’å’Œå³ä¸Šè§’ç§»åŠ¨ã€‚å¸ƒå±€æ–‡ä»¶å¾ˆç®€å•ï¼Œä¸€æŠŠæ¢­å°±OKäº†ğŸ˜‚ï¼š</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">android.support.constraint.motion.MotionLayout</span></span></span><br><span class="line"><span class="tag">        <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">xmlns:tools</span>=<span class="string">"http://schemas.android.com/tools"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">xmlns:app</span>=<span class="string">"http://schemas.android.com/apk/res-auto"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">app:motionDebug</span>=<span class="string">"SHOW_PATH"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">app:layoutDescription</span>=<span class="string">"@xml/step2"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">tools:context</span>=<span class="string">".practice.MotionSampleActivity"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ImageView</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:id</span>=<span class="string">"@+id/ic_android_blue"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_width</span>=<span class="string">"42dp"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_height</span>=<span class="string">"42dp"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:src</span>=<span class="string">"@mipmap/android_icon_blue"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ImageView</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:id</span>=<span class="string">"@+id/ic_android_left"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_width</span>=<span class="string">"42dp"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_height</span>=<span class="string">"42dp"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:src</span>=<span class="string">"@mipmap/android_icon_purple"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ImageView</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:id</span>=<span class="string">"@+id/ic_android_right"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_width</span>=<span class="string">"42dp"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_height</span>=<span class="string">"42dp"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:src</span>=<span class="string">"@mipmap/android_icon_orange"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">TextView</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:id</span>=<span class="string">"@+id/tipText"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:text</span>=<span class="string">"Swipe the blue android icon up"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">app:layout_constraintEnd_toEndOf</span>=<span class="string">"parent"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_marginEnd</span>=<span class="string">"16dp"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_marginTop</span>=<span class="string">"16dp"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">app:layout_constraintTop_toTopOf</span>=<span class="string">"parent"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">android.support.constraint.motion.MotionLayout</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>ä¸‹é¢æˆ‘ä»¬æ¥çœ‹ä¸‹ <code>step2</code> ä¸­çš„ MotionSceneï¼š</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span></span><br><span class="line"><span class="comment">&lt;!--describe the animation for activity_motion_sample_step2.xml--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--animate by dragging target view--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">MotionScene</span> <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></span><br><span class="line"><span class="tag">             <span class="attr">xmlns:app</span>=<span class="string">"http://schemas.android.com/apk/res-auto"</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--At the start, all three stars are centered at the bottom of the screen.--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ConstraintSet</span> <span class="attr">android:id</span>=<span class="string">"@+id/start"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">Constraint</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:id</span>=<span class="string">"@+id/ic_android_blue"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:layout_width</span>=<span class="string">"42dp"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:layout_height</span>=<span class="string">"42dp"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:layout_marginBottom</span>=<span class="string">"20dp"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">app:layout_constraintStart_toStartOf</span>=<span class="string">"parent"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">app:layout_constraintEnd_toEndOf</span>=<span class="string">"parent"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">app:layout_constraintBottom_toBottomOf</span>=<span class="string">"parent"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">Constraint</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:id</span>=<span class="string">"@+id/ic_android_left"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:layout_width</span>=<span class="string">"42dp"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:layout_height</span>=<span class="string">"42dp"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:alpha</span>=<span class="string">"0.0"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:layout_marginBottom</span>=<span class="string">"20dp"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">app:layout_constraintStart_toStartOf</span>=<span class="string">"parent"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">app:layout_constraintEnd_toEndOf</span>=<span class="string">"parent"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">app:layout_constraintBottom_toBottomOf</span>=<span class="string">"parent"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">Constraint</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:id</span>=<span class="string">"@+id/ic_android_right"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:layout_width</span>=<span class="string">"42dp"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:layout_height</span>=<span class="string">"42dp"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:layout_marginBottom</span>=<span class="string">"20dp"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:alpha</span>=<span class="string">"0.0"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">app:layout_constraintStart_toStartOf</span>=<span class="string">"parent"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">app:layout_constraintEnd_toEndOf</span>=<span class="string">"parent"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">app:layout_constraintBottom_toBottomOf</span>=<span class="string">"parent"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">ConstraintSet</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--Define the end constraint to set use a chain to position all three stars together below @id/tipText.--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ConstraintSet</span> <span class="attr">android:id</span>=<span class="string">"@+id/end"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">Constraint</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:id</span>=<span class="string">"@+id/ic_android_left"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:layout_width</span>=<span class="string">"58dp"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:layout_height</span>=<span class="string">"58dp"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:layout_marginEnd</span>=<span class="string">"90dp"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:alpha</span>=<span class="string">"1.0"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">app:layout_constraintHorizontal_chainStyle</span>=<span class="string">"packed"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">app:layout_constraintStart_toStartOf</span>=<span class="string">"parent"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">app:layout_constraintEnd_toStartOf</span>=<span class="string">"@id/ic_android_blue"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">app:layout_constraintTop_toBottomOf</span>=<span class="string">"@id/tipText"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">Constraint</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:id</span>=<span class="string">"@+id/ic_android_blue"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:layout_width</span>=<span class="string">"58dp"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:layout_height</span>=<span class="string">"58dp"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">app:layout_constraintEnd_toStartOf</span>=<span class="string">"@id/ic_android_right"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">app:layout_constraintStart_toEndOf</span>=<span class="string">"@id/ic_android_left"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">app:layout_constraintTop_toBottomOf</span>=<span class="string">"@id/tipText"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">Constraint</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:id</span>=<span class="string">"@+id/ic_android_right"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:layout_width</span>=<span class="string">"58dp"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:layout_height</span>=<span class="string">"58dp"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:layout_marginStart</span>=<span class="string">"90dp"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:alpha</span>=<span class="string">"1.0"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">app:layout_constraintStart_toEndOf</span>=<span class="string">"@id/ic_android_blue"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">app:layout_constraintEnd_toEndOf</span>=<span class="string">"parent"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">app:layout_constraintTop_toBottomOf</span>=<span class="string">"@id/tipText"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">ConstraintSet</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- A transition describes an animation via start and end state --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">Transition</span></span></span><br><span class="line"><span class="tag">            <span class="attr">app:constraintSetStart</span>=<span class="string">"@id/start"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">app:constraintSetEnd</span>=<span class="string">"@id/end"</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- MotionLayout will track swipes relative to this view --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">OnSwipe</span> <span class="attr">app:touchAnchorId</span>=<span class="string">"@id/ic_android_blue"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">Transition</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">MotionScene</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢ä»£ç å…¶å®å¾ˆå¥½ç†è§£ï¼Œä¹‹å‰æˆ‘ä»¬å®šä¹‰äº†ä¸€ä¸ªæ§ä»¶çš„ <code>Constraint</code>ï¼Œç°åœ¨åªéœ€è¦å¤šåŠ ä¸¤ä¸ªå³å¯ã€‚ç”±äºä¸‰ä¸ª Android æœºå™¨äººèµ·ç‚¹ä½ç½®æ˜¯ä¸€æ ·çš„ï¼Œè€Œåªæœ‰è“è‰²çš„æ˜¾ç¤ºï¼Œé‚£ä¹ˆåªè¦åœ¨å¼€å§‹ä½ç½®å°†å¦å¤–çš„ä¸¤ä¸ªæœºå™¨äººé€æ˜åº¦è®¾ç½®ä¸º 0 å³å¯ï¼Œç„¶ååœ¨ç»“æŸä½ç½®å°†ä¸‰ä¸ªå°æœºå™¨äººåˆ†å¼€æ‘†æ”¾ï¼Œè¿™é‡Œè®¾è®¡åˆ° <code>ConstraintLayout</code> çš„åŸºç¡€ï¼Œå°±ä¸å¤šè¯´äº†ã€‚æ¥ç€å°†ç»“æŸä½ç½®çš„å·¦ã€å³ Android æœºå™¨äººé€æ˜åº¦è®¾ç½®ä¸º 1ï¼ŒåŠ¨ç”»å¼€å§‹åï¼Œ<code>MotionLayout</code> ä¼šè‡ªåŠ¨å¤„ç†ç›®æ ‡æ§ä»¶ <strong>alpha</strong> å±æ€§çš„å˜åŒ–æ•ˆæœï¼Œè®©å…¶çœ‹èµ·æ¥ä¾æ—§ä¸æ»‘ã€‚</p>
<p>å¦å¤–ï¼Œæˆ‘ä»¬è¿™é‡Œæ²¡æœ‰å†é€šè¿‡ <em><code>&lt;OnClick&gt;</code></em> æ¥è§¦å‘åŠ¨ç”»æ•ˆæœï¼Œç±»ä¼¼çš„ï¼Œæˆ‘ä»¬ä½¿ç”¨äº† <em><code>&lt;OnSwipe&gt;</code></em> æ‰‹åŠ¿æ»‘åŠ¨æ¥è§¦å‘åŠ¨ç”»ï¼Œåªéœ€è¦æŒ‡å®š <code>touchAnchorId</code> ä¸ºè“è‰²å°æœºå™¨äººå³å¯ï¼Œæ€ä¹ˆæ ·ï¼Œæ˜¯ä¸æ˜¯æœ‰ç§â€œæ‹æ¡ˆæƒŠå¥‡â€çš„æ„Ÿè§‰ğŸ˜ã€‚æ­¤å¤–ï¼Œä½ å¯ä»¥é€šè¿‡æŒ‡å®š <code>touchAnchorSide</code> å’Œ <code>dragDirection</code> ç­‰æ¥æŒ‡å®šè‡ªå·±æƒ³è¦çš„æ»‘åŠ¨æ‰‹åŠ¿å’Œæ»‘åŠ¨æ–¹å‘ï¼Œé»˜è®¤ä¸ºå‘ä¸Šæ»‘åŠ¨ï¼Œæ‰‹åŠ¿æ»‘åŠ¨æˆ‘ä»¬å°†åœ¨åé¢ç¤ºä¾‹ä¸­ç©¿æ’ä½¿ç”¨å’Œè®²è§£ï¼Œè¿™é‡Œä¸åšå…·ä½“ä»‹ç»ï¼Œå¿ä¸ä½çš„å°ä¼™ä¼´å¯ä»¥å»æŸ¥çœ‹ä¸€ä¸‹å®˜æ–¹æ–‡æ¡£ä»‹ç»ã€‚OKï¼Œå°±è¿™æ ·ï¼Œæˆ‘ä»¬ä¸Šé¢çš„ä¼ªâ€œç™¾èŠ±é½æ”¾â€æ•ˆæœå°±å·²ç»å®ç°äº†ï¼Œæ²¡ä»€ä¹ˆéš¾çš„å¯¹å§ğŸ˜„ã€‚</p>
<p>åˆ°è¿™é‡Œï¼Œä½ å¯èƒ½ä¼šè¯´ï¼šå‰é¢ä¸¤ä¸ªç¤ºä¾‹çš„åŠ¨ç”»è½¨è¿¹ä¸€ç›´æ˜¯â€ç›´çº¿â€ï¼Œå¦‚æœæƒ³è¦æŸæ®µåŠ¨ç”»è¿‡ç¨‹çš„è½¨è¿¹æ˜¯â€æ›²çº¿â€æ•ˆæœå¯ä»¥å—ï¼Ÿå½“ç„¶æ²¡é—®é¢˜ï¼<strong>Keyframes</strong> å…³é”®å¸§å¸®ä½ å®‰æ’ï¼</p>
<h2 id="KeyFrameSetï¼šè®©åŠ¨ç”»ç‹¬æ ‘ä¸€å¸œ"><a href="#KeyFrameSetï¼šè®©åŠ¨ç”»ç‹¬æ ‘ä¸€å¸œ" class="headerlink" title="KeyFrameSetï¼šè®©åŠ¨ç”»ç‹¬æ ‘ä¸€å¸œ"></a>KeyFrameSetï¼šè®©åŠ¨ç”»ç‹¬æ ‘ä¸€å¸œ</h2><p>å¦‚æœæˆ‘ä»¬æƒ³å®ç°â€œç‹¬æ ‘ä¸€å¸œâ€çš„åŠ¨ç”»äº¤äº’æ•ˆæœï¼Œé‚£å°±ç¦»ä¸å¼€ KeyFrameSet è¿™ä¸ªå¼ºå¤§çš„å±æ€§ã€‚å®ƒå¯ä»¥æ”¹å˜æˆ‘ä»¬åŠ¨ç”»è¿‡ç¨‹ä¸­æŸä¸ªå…³é”®å¸§çš„ä½ç½®ä»¥åŠçŠ¶æ€ä¿¡æ¯ã€‚è¿™æ ·è¯´å¯èƒ½ä¸å¤ªå¥½ç†è§£ï¼Œæˆ‘ä»¬å…ˆæ¥çœ‹ä¸‹é¢è¿™ä¸ªç¤ºä¾‹ï¼š</p>
<p><img src="https://user-gold-cdn.xitu.io/2019/8/18/16ca4f56c94abb3d?w=480&h=266&f=gif&s=147065"></p>
<p>ä»¥å¤§å®¶çš„æ…§çœ¼ä¸éš¾å‘ç°ï¼šé£è½¦çš„è¿åŠ¨è½¨è¿¹ä¸ºæ›²çº¿ï¼Œå¹¶ä¸”æ—‹è½¬å¹¶æ”¾å¤§è‡³ä¸­é—´ä½ç½®æ—¶ä¼šè¾¾åˆ°é›¶ç•Œç‚¹ï¼Œç„¶åå¼€å§‹ç¼©å°ã€‚å¸ƒå±€ä»£ç å°±ä¸ä¸Šäº†ï¼Œå¾ˆç®€å•ï¼Œé‡Œé¢å”¯ä¸€é‡è¦çš„å°±æ˜¯æˆ‘ä»¬éœ€è¦å®ç°çš„ MotionScene æ•ˆæœ â€” <code>step3.xml</code> äº†ï¼š</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span></span><br><span class="line"><span class="comment">&lt;!--describe the animation for activity_motion_sample_step3.xml--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--animate in the path way on a view--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">MotionScene</span> <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></span><br><span class="line"><span class="tag">             <span class="attr">xmlns:app</span>=<span class="string">"http://schemas.android.com/apk/res-auto"</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- Constraints to apply at the start of the animation --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ConstraintSet</span> <span class="attr">android:id</span>=<span class="string">"@+id/start"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">Constraint</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:id</span>=<span class="string">"@id/windmill"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:layout_width</span>=<span class="string">"40dp"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:layout_height</span>=<span class="string">"40dp"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:layout_marginStart</span>=<span class="string">"12dp"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:layout_marginBottom</span>=<span class="string">"12dp"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">app:layout_constraintStart_toStartOf</span>=<span class="string">"parent"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">app:layout_constraintBottom_toBottomOf</span>=<span class="string">"parent"</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">Constraint</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:id</span>=<span class="string">"@id/tipText"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:alpha</span>=<span class="string">"0.0"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">app:layout_constraintStart_toStartOf</span>=<span class="string">"parent"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">app:layout_constraintBottom_toBottomOf</span>=<span class="string">"@id/windmill"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">app:layout_constraintTop_toTopOf</span>=<span class="string">"@id/windmill"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">ConstraintSet</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- Constraints to apply at the end of the animation --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ConstraintSet</span> <span class="attr">android:id</span>=<span class="string">"@+id/end"</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--this view end point should be at bottom of parent--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">Constraint</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:id</span>=<span class="string">"@id/windmill"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:layout_width</span>=<span class="string">"40dp"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:layout_height</span>=<span class="string">"40dp"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:layout_marginBottom</span>=<span class="string">"12dp"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:layout_marginEnd</span>=<span class="string">"12dp"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">app:layout_constraintEnd_toEndOf</span>=<span class="string">"parent"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">app:layout_constraintBottom_toBottomOf</span>=<span class="string">"parent"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">Constraint</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:id</span>=<span class="string">"@+id/tipText"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:layout_marginBottom</span>=<span class="string">"12dp"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:alpha</span>=<span class="string">"1.0"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:layout_marginEnd</span>=<span class="string">"72dp"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">app:layout_constraintEnd_toEndOf</span>=<span class="string">"parent"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">app:layout_constraintBottom_toBottomOf</span>=<span class="string">"parent"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">ConstraintSet</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- A transition describes an animation via start and end state --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">Transition</span></span></span><br><span class="line"><span class="tag">            <span class="attr">app:constraintSetStart</span>=<span class="string">"@id/start"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">app:constraintSetEnd</span>=<span class="string">"@id/end"</span>&gt;</span></span><br><span class="line">        </span><br><span class="line">        <span class="tag">&lt;<span class="name">KeyFrameSet</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">KeyPosition</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">app:framePosition</span>=<span class="string">"50"</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">app:motionTarget</span>=<span class="string">"@id/windmill"</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">app:keyPositionType</span>=<span class="string">"parentRelative"</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">app:percentY</span>=<span class="string">"0.5"</span>/&gt;</span></span><br><span class="line">            <span class="comment">&lt;!--apply other animation attributes--&gt;</span></span><br><span class="line">            <span class="comment">&lt;!--å‰åŠæ®µçš„åŠ¨ç”»æ•ˆæœï¼šé€†æ—¶é’ˆæ—‹è½¬ä¸€åœˆï¼ŒåŒæ—¶æ”¾å¤§ä¸€å€--&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">KeyAttribute</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">app:motionTarget</span>=<span class="string">"@id/windmill"</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">android:rotation</span>=<span class="string">"-360"</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">android:scaleX</span>=<span class="string">"2.0"</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">android:scaleY</span>=<span class="string">"2.0"</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">app:framePosition</span>=<span class="string">"50"</span>/&gt;</span></span><br><span class="line">            <span class="comment">&lt;!--ååŠæ®µçš„åŠ¨ç”»æ•ˆæœï¼šé€†æ—¶é’ˆæ—‹è½¬ä¸€åœˆï¼ŒåŒæ—¶å˜å›åŸæ ·--&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">KeyAttribute</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">app:motionTarget</span>=<span class="string">"@id/windmill"</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">android:rotation</span>=<span class="string">"-720"</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">app:framePosition</span>=<span class="string">"100"</span>/&gt;</span></span><br><span class="line">            <span class="comment">&lt;!--å»¶è¿ŸåŠ¨ç”»â€”â€”0-85è¿‡ç¨‹ä¸­å°†é€æ˜åº¦ä¸€ç›´ç»´æŒåœ¨0.0--&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">KeyAttribute</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">app:motionTarget</span>=<span class="string">"@id/tipText"</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">app:framePosition</span>=<span class="string">"85"</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">android:alpha</span>=<span class="string">"0.0"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">KeyFrameSet</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">OnSwipe</span></span></span><br><span class="line"><span class="tag">            <span class="attr">app:touchAnchorId</span>=<span class="string">"@id/windmill"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">app:touchAnchorSide</span>=<span class="string">"bottom"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">app:dragDirection</span>=<span class="string">"dragRight"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">Transition</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">MotionScene</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>ä»ä¸Šè¿°ä»£ç æˆ‘ä»¬å¯ä»¥å‘ç°ï¼š<code>KeyFrameSet</code> éœ€è¦è¢«åŒ…å«åœ¨ <code>Transition</code> é‡Œé¢ï¼ŒåŒæ—¶ <code>KeyFrameSet</code> ä¸­å®šä¹‰äº† <em><code>&lt;KeyPosition&gt;</code></em> å’Œ <em><code>&lt;KeyAttribute&gt;</code></em> ä¸¤ç§å…ƒç´ ï¼Œå®ƒä»¬ä¸»è¦ç”¨æ¥è®¾ç½®åŠ¨ç”»æŸä¸ªä½ç½®çš„å…³é”®å¸§ï¼Œè¿›è€Œ<strong>ä¸ºæŸæ®µåŠ¨ç”»æŒ‡å®šæ‰€æœŸæœ›çš„æ•ˆæœ</strong>ã€‚é¡¾åæ€ä¹‰ï¼Œ<code>KeyPosition</code> ç”¨äºæŒ‡å®šåŠ¨ç”»æŸä¸ªå…³é”®å¸§çš„ä½ç½®ä¿¡æ¯ï¼Œè€Œ <code>KeyAttribute</code> åˆ™ç”¨æ¥æè¿°åŠ¨ç”»æŸå…³é”®å¸§çš„å±æ€§é…ç½®ï¼ˆå¦‚ï¼šé€æ˜åº¦ã€ç¼©æ”¾ã€æ—‹è½¬ç­‰ï¼‰ã€‚é™¤æ­¤ä»¥å¤–ï¼Œ<code>KeyFrameSet</code> ä¸­è¿˜æ”¯æŒ <em><code>&lt;KeyCycle&gt;</code></em> å’Œ <em><code>&lt;KeyTimeCycle&gt;</code></em> æ¥è®©åŠ¨ç”»å˜å¾—æ›´åŠ æœ‰è¶£å’Œçµæ´»ï¼Œå› ç¯‡å¹…æœ‰é™ï¼Œå°†åœ¨åç»­æ–‡ç« å¯¹äºŒè€…è¿›è¡Œè®²è§£ã€‚</p>
<p>æˆ‘ä»¬å…ˆæ¥çœ‹ä¸‹ <code>KeyPosition</code> çš„æ„æˆï¼š</p>
<p><img src="https://user-gold-cdn.xitu.io/2019/8/18/16ca4f5bb1b874a5?w=251&h=372&f=png&s=41630"></p>
<p>ä»ä¸Šå›¾å¯è§ï¼Œ<code>keyPositionType</code> ä¸€å…±æœ‰ä¸‰ç§ï¼Œæœ¬æ–‡ä½¿ç”¨çš„æ˜¯ <code>parentRelative</code>ï¼Œå³ä»¥æ•´ä¸ª <code>MotionLayout</code> çš„å¸ƒå±€ä¸ºåæ ‡ç³»ï¼Œå·¦ä¸Šè§’ä¸ºåæ ‡åŸç‚¹ï¼Œå³å‚è€ƒ View çš„åæ ‡ç³»å³å¯ï¼Œè€Œå¦å¤–ä¸¤ç§å°†åœ¨åç»­æ–‡ç« ç»Ÿä¸€è®²è§£å’Œåº”ç”¨ï¼Œå®ƒä»¬çš„åŒºåˆ«åœ¨äºåæ ‡ç³»é€‰å–çš„å‚è€ƒç‚¹ä¸åŒè€Œå·²ã€‚æˆ‘ä»¬é€šè¿‡ <code>framePosition</code> å±æ€§æ¥<strong>æŒ‡å®šå…³é”®å¸§æ‰€åœ¨çš„ä½ç½®</strong>ï¼Œå–å€¼èŒƒå›´ä¸º <code>0 - 100</code>ï¼Œæœ¬ç¤ºä¾‹ä¸­è®¾ç½®çš„ <code>50</code> å³ä¸ºåŠ¨ç”»ä¸­ç‚¹ä½ç½®ã€‚å¦å¤–ï¼Œå¯ä»¥é€šè¿‡æŒ‡å®š <code>percentX</code> å’Œ <code>percentY</code> æ¥è®¾ç½®è¯¥å…³é”®å¸§ä½ç½®çš„åç§»é‡ï¼Œå®ƒä»¬å–å€¼ä¸€èˆ¬ä¸º <code>0 â€” 1</code>ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥è®¾ç½®ä¸ºè´Ÿæ•°æˆ–è€…å¤§äºä¸€ï¼Œæ¯”å¦‚ï¼Œæœ¬ç¤ºä¾‹ä¸­å¦‚æœæ²¡æœ‰è®¾ç½®åç§»é‡ï¼Œé‚£ä¹ˆåŠ¨ç”»çš„è½¨è¿¹æ— ç–‘æ˜¯ä¸€æ¡å¹³è¡Œäº x è½´çš„ç›´çº¿ï¼Œä½†é€šè¿‡è®¾ç½® <code>app:percentY=&quot;0.5&quot;</code>ï¼Œé‚£ä¹ˆé£è½¦å°±ä¼šåœ¨åŠ¨ç”»ä¸­ç‚¹ä½ç½®å‘ y è½´æ–¹å‘åç§»ä¸€åŠçš„é«˜åº¦ï¼Œå³ä¸‹å›¾çš„æ•ˆæœï¼ˆå¼€å§‹ <code>debug</code> æ¨¡å¼ï¼‰ï¼š</p>
<p><img src="https://user-gold-cdn.xitu.io/2019/8/18/16ca4f60667bc150?w=648&h=362&f=png&s=21055"></p>
<p>å¯èƒ½ä¼šæœ‰äººé—®äº†ï¼šä¸ºä»€ä¹ˆè½¨è¿¹ä¸æ˜¯ä¸‰è§’å½¢ï¼Œè€Œæ˜¯æ›²çº¿å‘¢ï¼Ÿå“ˆå“ˆï¼Œè¿™ä¸ªé—®é¢˜é—®å¾—å¥½ï¼å› ä¸º <code>MotionLayout</code> ä¼šè‡ªåŠ¨åœ°å°†å…³é”®å¸§ä½ç½®å°½é‡è¡”æ¥çš„åœ†æ»‘ï¼Œè®©åŠ¨ç”»æ‰§è¡Œèµ·æ¥ä¸é‚£ä¹ˆåƒµç¡¬ã€‚å…¶ä»–ä»£ç åº”è¯¥å°±æ¯”è¾ƒå¥½ç†è§£äº†ï¼Œå¯ä»¥å‚ç…§æ–‡æ¡£ç†è§£ã€‚</p>
<p>äº†è§£å®Œ <code>KeyFrameSet</code> çš„ç”¨æ³•ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å¾ˆè½»æ˜“çš„å®ç°ä¸‹é¢è¿™ä¸ªæ•ˆæœå•¦ï¼š</p>
<p><img src="https://user-gold-cdn.xitu.io/2019/8/18/16ca4f653135b802?w=230&h=406&f=gif&s=263179"></p>
<p>ä»£ç å°±ä¸è´´äº†ï¼Œ<code>MotionLayout</code> ç³»åˆ—ä»£ç éƒ½ä¼šä¸Šä¼ è‡³ GitHub ä¸Šï¼Œæ„Ÿå…´è¶£çš„å°ä¼™ä¼´å¯ä»¥å»çœ‹ä¸€ä¸‹ã€‚ä¸çŸ¥ä¸è§‰å·²ç»è®²äº†è¿™ä¹ˆå¤šï¼Œä½†å‘ç°è¿˜æœ‰å¾ˆå¤šå†…å®¹æ²¡æœ‰æ¶‰åŠåˆ°æˆ–æ˜¯è®²æ¸…æ¥šï¼Œç”±äºç¯‡å¹…æœ‰é™ï¼Œå°±åªèƒ½æ”¾åœ¨åé¢å‡ æœŸæ¥ä¸ºå¤§å®¶ä»‹ç»å•¦ğŸ˜„ã€‚å¦‚æœå¤§å®¶è§‰å¾—å¯¹æœ¬æ–‡æœ‰ä»€ä¹ˆé—®é¢˜æˆ–è€…å»ºè®®ï¼Œæ¬¢è¿è¯„è®ºåŒºç•™è¨€ï¼ŒçŸ¥æ— ä¸è¨€ï¼Œè¨€æ— ä¸å°½ã€‚</p>
<blockquote>
<p><strong><em>æœ¬æ–‡å…¨éƒ¨ä»£ç ï¼š<a href="https://github.com/Moosphan/ConstraintSample">https://github.com/Moosphan/ConstraintSample</a></em></strong></p>
<p>åç»­æ–‡ç« å°†ç»§ç»­è·Ÿè¿›ç›¸å…³è¿›é˜¶ç”¨æ³•ï¼Œè¯¥ä»“åº“ä¹Ÿå°†æŒç»­æ›´æ–°ï¼Œæ•¬è¯·æœŸå¾…~</p>
</blockquote>
<h2 id="å‚è€ƒå’Œæ„Ÿè°¢ï¼š"><a href="#å‚è€ƒå’Œæ„Ÿè°¢ï¼š" class="headerlink" title="å‚è€ƒå’Œæ„Ÿè°¢ï¼š"></a>å‚è€ƒå’Œæ„Ÿè°¢ï¼š</h2><blockquote>
<p><a href="https://medium.com/google-developers/introduction-to-motionlayout-part-i-29208674b10d"><em>Introduction to MotionLayout (part I)</em></a></p>
<p><a href="https://medium.com/google-developers/introduction-to-motionlayout-part-ii-a31acc084f59"><em>Introduction to MotionLayout (part II)</em></a></p>
<p><a href="https://medium.com/google-developers/introduction-to-motionlayout-part-iii-47cd64d51a5"><em>Introduction to MotionLayout (part III)</em></a></p>
<p><a href="https://medium.com/google-developers/defining-motion-paths-in-motionlayout-6095b874d37"><em>Defining motion paths in MotionLayout</em></a></p>
<p><a href="https://developer.android.google.cn/reference/androidx/constraintlayout/motion/widget/MotionLayout?hl=en"><em>MotionLayout development</em></a></p>
</blockquote>
<h2 id="æœ€å"><a href="#æœ€å" class="headerlink" title="æœ€å"></a>æœ€å</h2><blockquote>
<p>æœ¬æ–‡çš„å‡ºå‘ç‚¹æ˜¯å¸Œæœ›ä»…ä»…ä¸ºå¤§å®¶æä¾›ä¸€ä¸ªâ€œé’¥åŒ™å­”â€çš„è§’è‰²ï¼Œé€šè¿‡è¿™ä¸ªâ€œå­”â€ï¼Œå¤§å®¶å¯ä»¥ä¾ç¨€çœ‹è§é—¨é‡Œâ€œå®è—â€çš„ä½™å…‰ï¼Œæƒ³è¦æ‰“å¼€é—¨å¯»å¾—å®è—ï¼Œå°±éœ€è¦å¤§å®¶â€äº‹å¿…èº¬äº²â€ï¼Œæ‹¿åˆ°â€œé’¥åŒ™â€æ¥æ‰“å¼€è¿™æ‰‡é—¨äº†ğŸ˜„ã€‚å½“ç„¶ï¼Œå¤§å®¶ä¹Ÿå¯ä»¥ç»§ç»­å…³æ³¨æˆ‘çš„åç»­ä¹‹ä½œï¼Œæ¥å‘ç°æ›´å¤š <code>MotionLayout</code> çš„å®è—ã€‚</p>
</blockquote>
</div><div class="article-tags size-small mb-4"><span class="mr-2">#</span><a class="link-muted mr-2" rel="tag" href="/tags/MotionLayout/">MotionLayout</a><a class="link-muted mr-2" rel="tag" href="/tags/Android-%E5%8A%A8%E7%94%BB/">Android åŠ¨ç”»</a></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js@1.0.16/dist/css/share.min.css"><div class="social-share"></div><script src="https://cdn.jsdelivr.net/npm/social-share.js@1.0.16/dist/js/social-share.min.js"></script></article></div><!--!--><nav class="post-navigation mt-4 level is-mobile"><div class="level-start"><a class="article-nav-prev level level-item link-muted" href="/2020/01/08/2019-summary/"><i class="level-item fas fa-chevron-left"></i><span class="level-item">ã€Œ2019ï¼Œè·¯æ¼«æ¼«å…¶ä¿®è¿œå…®ã€</span></a></div><div class="level-end"><a class="article-nav-next level level-item link-muted" href="/2019/08/20/dart-learning/"><span class="level-item">Dartå…¥é—¨ï¼Ÿä¸€ç¯‡æ–‡ç« è¶³çŸ£</span><i class="level-item fas fa-chevron-right"></i></a></div></nav><div class="card"><div class="card-content"><h3 class="title is-5">è¯„è®º</h3><div id="comment-container"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/gitalk@1.6.2/dist/gitalk.css"><script src="https://cdn.jsdelivr.net/npm/gitalk@1.6.2/dist/gitalk.min.js"></script><script>var gitalk = new Gitalk({
            id: 'b57a2ab1691c9503d11e46bf7fc23bda',
            repo: 'Moosphan.github.io',
            owner: 'Moosphan',
            clientID: 'dc647e1369a56ca7d0ca',
            clientSecret: '31a92ba8e7783a092d0dee1b591657b0afa9c931',
            admin: "Moosphan",
            createIssueManually: false,
            distractionFreeMode: false,
            perPage: 10,
            pagerDirection: 'last',
            
            
            enableHotKey: true
        })
        gitalk.render('comment-container')</script></div></div></div><div class="column column-left is-4-tablet is-4-desktop is-3-widescreen  order-1"><div class="card widget"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="avatar is-rounded" src="/img/avatar.png" alt="Hulk"></figure><p class="title is-size-4 is-block line-height-inherit">Hulk</p><p class="is-size-6 is-block">æ— åä¹‹è¾ˆï¼ŒåŠŸèµ·äºç»†å¾®</p><p class="is-size-6 is-flex justify-content-center"><i class="fas fa-map-marker-alt mr-1"></i><span>ShangHai @China</span></p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">æ–‡ç« </p><a href="/archives"><p class="title">29</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">åˆ†ç±»</p><a href="/categories"><p class="title">16</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">æ ‡ç­¾</p><a href="/tags"><p class="title">38</p></a></div></div></nav><div class="level"><a class="level-item button is-primary is-rounded" href="https://github.com/Moosphan" target="_blank" rel="noopener">å…³æ³¨æˆ‘</a></div><div class="level is-mobile"><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Github" href="https://github.com/Moosphan"><i class="fab fa-github"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Facebook" href="https://facebook.com"><i class="fab fa-facebook"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Twitter" href="https://twitter.com"><i class="fab fa-twitter"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Dribbble" href="https://dribbble.com"><i class="fab fa-dribbble"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="RSS" href="/"><i class="fas fa-rss"></i></a></div></div></div><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">é“¾æ¥</h3><ul class="menu-list"><li><a class="level is-mobile is-mobile" href="https://medium.com/@moosphon" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">Medium</span></span><span class="level-right"><span class="level-item tag">medium.com</span></span></a></li><li><a class="level is-mobile is-mobile" href="https://juejin.im/user/2946346891100285" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">æ˜é‡‘</span></span><span class="level-right"><span class="level-item tag">juejin.im</span></span></a></li><li><a class="level is-mobile is-mobile" href="https://www.jianshu.com/u/c8cb84295426" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">ç®€ä¹¦</span></span><span class="level-right"><span class="level-item tag">www.jianshu.com</span></span></a></li></ul></div></div></div><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">åˆ†ç±»</h3><ul class="menu-list"><li><a class="level is-mobile is-marginless" href="/categories/Android/"><span class="level-start"><span class="level-item">Android</span></span><span class="level-end"><span class="level-item tag">11</span></span></a><ul class="mr-0"><li><a class="level is-mobile is-marginless" href="/categories/Android/Architecture/"><span class="level-start"><span class="level-item">Architecture</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/Android/Proguard/"><span class="level-start"><span class="level-item">Proguard</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/Android/%E5%8A%A8%E7%94%BB/"><span class="level-start"><span class="level-item">åŠ¨ç”»</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/Android/%E5%9C%B0%E5%9B%BE%E5%BC%80%E5%8F%91/"><span class="level-start"><span class="level-item">åœ°å›¾å¼€å‘</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/Android/%E5%BC%80%E6%BA%90/"><span class="level-start"><span class="level-item">å¼€æº</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></li><li><a class="level is-mobile is-marginless" href="/categories/Android-Gradle/"><span class="level-start"><span class="level-item">Android Gradle</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/Flutter/"><span class="level-start"><span class="level-item">Flutter</span></span><span class="level-end"><span class="level-item tag">4</span></span></a><ul class="mr-0"><li><a class="level is-mobile is-marginless" href="/categories/Flutter/Dart/"><span class="level-start"><span class="level-item">Dart</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></li><li><a class="level is-mobile is-marginless" href="/categories/Google/"><span class="level-start"><span class="level-item">Google</span></span><span class="level-end"><span class="level-item tag">1</span></span></a><ul class="mr-0"><li><a class="level is-mobile is-marginless" href="/categories/Google/Meeting/"><span class="level-start"><span class="level-item">Meeting</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></li><li><a class="level is-mobile is-marginless" href="/categories/Jcenter/"><span class="level-start"><span class="level-item">Jcenter</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/Kotlin/"><span class="level-start"><span class="level-item">Kotlin</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/Mac/"><span class="level-start"><span class="level-item">Mac</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/%E4%B8%AA%E4%BA%BA%E6%80%BB%E7%BB%93/"><span class="level-start"><span class="level-item">ä¸ªäººæ€»ç»“</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E6%B8%B8%E6%88%8F/"><span class="level-start"><span class="level-item">å¾®ä¿¡å°æ¸¸æˆ</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li></ul></div></div></div><div class="card widget"><div class="card-content"><h3 class="menu-label">æœ€æ–°æ–‡ç« </h3><article class="media"><div class="media-content size-small"><p><time dateTime="2020-08-19T05:48:35.000Z">2020-08-19</time></p><p class="title is-6"><a class="link-muted" href="/2020/08/19/Android-Gradle3-0%E5%BC%80%E5%A7%8BImplementation-%E4%B8%8E-Api%E7%9A%84%E7%88%B1%E6%81%A8%E6%83%85%E4%BB%87/">Android Gradle3.0å¼€å§‹Implementation ä¸ Apiçš„çˆ±æ¨æƒ…ä»‡</a></p><p class="is-uppercase"><a class="link-muted" href="/categories/Android-Gradle/">Android Gradle</a></p></div></article><article class="media"><div class="media-content size-small"><p><time dateTime="2020-08-12T11:28:12.000Z">2020-08-12</time></p><p class="title is-6"><a class="link-muted" href="/2020/08/12/MotionLayout%EF%BC%9A%E5%B8%A6%E4%BD%A0%E8%BF%9B%E5%85%A5%E5%8A%A8%E7%94%BB%E6%96%B0%E4%B8%96%E7%95%8C/">MotionLayout:)å¸¦ä½ è¿›å…¥åŠ¨ç”»æ–°ä¸–ç•Œ</a></p><p class="is-uppercase"><a class="link-muted" href="/categories/Android/">Android</a> / <a class="link-muted" href="/categories/Android/%E5%8A%A8%E7%94%BB/">åŠ¨ç”»</a></p></div></article><article class="media"><div class="media-content size-small"><p><time dateTime="2020-06-29T09:01:52.000Z">2020-06-29</time></p><p class="title is-6"><a class="link-muted" href="/2020/06/29/android-proguard/">ä¸€ç¯‡æ–‡ç« å¸¦ä½ é¢†ç•¥Androidæ··æ·†çš„é­…åŠ›</a></p><p class="is-uppercase"><a class="link-muted" href="/categories/Android/">Android</a> / <a class="link-muted" href="/categories/Android/Proguard/">Proguard</a></p></div></article><article class="media"><div class="media-content size-small"><p><time dateTime="2020-04-19T15:37:12.000Z">2020-04-19</time></p><p class="title is-6"><a class="link-muted" href="/2020/04/19/flutter-tips/">Flutter å¼€å‘å°ç»“ | Tips</a></p><p class="is-uppercase"><a class="link-muted" href="/categories/Flutter/">Flutter</a></p></div></article><article class="media"><div class="media-content size-small"><p><time dateTime="2020-02-18T13:20:55.000Z">2020-02-18</time></p><p class="title is-6"><a class="link-muted" href="/2020/02/18/flutter-timer/">Flutter ä¸­â€œå€’è®¡æ—¶â€çš„é‚£äº›äº‹å„¿</a></p><p class="is-uppercase"><a class="link-muted" href="/categories/Flutter/">Flutter</a></p></div></article></div></div><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">å½’æ¡£</h3><ul class="menu-list"><li><a class="level is-mobile is-marginless" href="/archives/2020/08/"><span class="level-start"><span class="level-item">å…«æœˆ 2020</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2020/06/"><span class="level-start"><span class="level-item">å…­æœˆ 2020</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2020/04/"><span class="level-start"><span class="level-item">å››æœˆ 2020</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2020/02/"><span class="level-start"><span class="level-item">äºŒæœˆ 2020</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2020/01/"><span class="level-start"><span class="level-item">ä¸€æœˆ 2020</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2019/10/"><span class="level-start"><span class="level-item">åæœˆ 2019</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2019/08/"><span class="level-start"><span class="level-item">å…«æœˆ 2019</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2019/05/"><span class="level-start"><span class="level-item">äº”æœˆ 2019</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2019/03/"><span class="level-start"><span class="level-item">ä¸‰æœˆ 2019</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2018/12/"><span class="level-start"><span class="level-item">åäºŒæœˆ 2018</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2018/09/"><span class="level-start"><span class="level-item">ä¹æœˆ 2018</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2018/08/"><span class="level-start"><span class="level-item">å…«æœˆ 2018</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2018/05/"><span class="level-start"><span class="level-item">äº”æœˆ 2018</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2018/04/"><span class="level-start"><span class="level-item">å››æœˆ 2018</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2018/03/"><span class="level-start"><span class="level-item">ä¸‰æœˆ 2018</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2018/01/"><span class="level-start"><span class="level-item">ä¸€æœˆ 2018</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2017/11/"><span class="level-start"><span class="level-item">åä¸€æœˆ 2017</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2017/09/"><span class="level-start"><span class="level-item">ä¹æœˆ 2017</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li></ul></div></div></div><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">æ ‡ç­¾</h3><div class="field is-grouped is-grouped-multiline"><div class="control"><a class="tags has-addons" href="/tags/Android/"><span class="tag">Android</span><span class="tag is-grey-lightest">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Android-architecture/"><span class="tag">Android architecture</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Android-tools/"><span class="tag">Android tools</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Android-%E5%8A%A8%E7%94%BB/"><span class="tag">Android åŠ¨ç”»</span><span class="tag is-grey-lightest">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Anko/"><span class="tag">Anko</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/AppBar/"><span class="tag">AppBar</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/ConstraintLayout/"><span class="tag">ConstraintLayout</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Dart/"><span class="tag">Dart</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Flutter/"><span class="tag">Flutter</span><span class="tag is-grey-lightest">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Google/"><span class="tag">Google</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Google-develop-days/"><span class="tag">Google develop days</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Gradle/"><span class="tag">Gradle</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Image-selector/"><span class="tag">Image selector</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Jcenter/"><span class="tag">Jcenter</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Kotlin/"><span class="tag">Kotlin</span><span class="tag is-grey-lightest">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Layabox/"><span class="tag">Layabox</span><span class="tag is-grey-lightest">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/MVP/"><span class="tag">MVP</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Mac/"><span class="tag">Mac</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Marker%E8%81%9A%E5%90%88/"><span class="tag">Markerèšåˆ</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/MotionLayout/"><span class="tag">MotionLayout</span><span class="tag is-grey-lightest">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Proguard/"><span class="tag">Proguard</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Python/"><span class="tag">Python</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/UI%E6%95%88%E6%9E%9C/"><span class="tag">UIæ•ˆæœ</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E5%9C%B0%E5%9B%BE%E5%AF%BC%E8%88%AA/"><span class="tag">åœ°å›¾å¯¼èˆª</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E5%B1%95%E4%BC%9A/"><span class="tag">å±•ä¼š</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E5%BC%80%E5%8F%91%E6%95%88%E7%8E%87/"><span class="tag">å¼€å‘æ•ˆç‡</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E5%BC%80%E6%BA%90/"><span class="tag">å¼€æº</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E6%B8%B8%E6%88%8F/"><span class="tag">å¾®ä¿¡å°æ¸¸æˆ</span><span class="tag is-grey-lightest">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E5%BF%AB%E6%8D%B7%E9%94%AE/"><span class="tag">å¿«æ·é”®</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E6%80%BB%E7%BB%93/"><span class="tag">æ€»ç»“</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E6%9C%AA%E6%9D%A5%E8%A7%84%E5%88%92/"><span class="tag">æœªæ¥è§„åˆ’</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E6%B8%B8%E6%88%8F%E6%8E%92%E8%A1%8C%E6%A6%9C/"><span class="tag">æ¸¸æˆæ’è¡Œæ¦œ</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E6%B8%B8%E6%88%8F%E8%84%9A%E6%9C%AC/"><span class="tag">æ¸¸æˆè„šæœ¬</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E8%87%AA%E5%AE%9A%E4%B9%89Marker/"><span class="tag">è‡ªå®šä¹‰Marker</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E8%AF%84%E8%AE%BA%E5%9B%9E%E5%A4%8D/"><span class="tag">è¯„è®ºå›å¤</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E8%AF%BB%E4%B9%A6/"><span class="tag">è¯»ä¹¦</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E8%BE%93%E5%85%A5%E6%8F%90%E7%A4%BA/"><span class="tag">è¾“å…¥æç¤º</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E9%AB%98%E5%BE%B7%E5%9C%B0%E5%9B%BE/"><span class="tag">é«˜å¾·åœ°å›¾</span><span class="tag is-grey-lightest">4</span></a></div></div></div></div></div><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">è®¢é˜…æ›´æ–°</h3><form action="https://feedburner.google.com/fb/a/mailverify" method="post" target="popupwindow" onsubmit="window.open(&#039;https://feedburner.google.com/fb/a/mailverify?uri=&#039;,&#039;popupwindow&#039;,&#039;scrollbars=yes,width=550,height=520&#039;);return true"><input type="hidden" value="" name="uri"><input type="hidden" name="loc" value="en_US"><div class="field has-addons"><div class="control has-icons-left is-expanded"><input class="input" name="email" type="email" placeholder="Email"><span class="icon is-small is-left"><i class="fas fa-envelope"></i></span></div><div class="control"><input class="button is-primary" type="submit" value="è®¢é˜…"></div></div></form></div></div></div><div class="column-right-shadow is-hidden-widescreen"></div></div><div class="column column-right is-4-tablet is-4-desktop is-3-widescreen is-hidden-touch is-hidden-desktop-only order-3"><div class="card widget" id="toc"><div class="card-content"><div class="menu"><h3 class="menu-label">ç›®å½•</h3><ul class="menu-list"><li><a class="is-flex" href="#ç®€ä»‹"><span class="mr-2">1</span><span>ç®€ä»‹</span></a></li><li><a class="is-flex" href="#MotionLayout-åŸºç¡€"><span class="mr-2">2</span><span>MotionLayout åŸºç¡€</span></a><ul class="menu-list"><ul class="menu-list"><li><a class="is-flex" href="#å¼•å…¥-MotionLayout-åº“"><span class="mr-2">2.1.1</span><span>å¼•å…¥ MotionLayout åº“</span></a></li><li><a class="is-flex" href="#åœ¨å¸ƒå±€æ–‡ä»¶ä¸­ä½¿ç”¨-MotionLayout"><span class="mr-2">2.1.2</span><span>åœ¨å¸ƒå±€æ–‡ä»¶ä¸­ä½¿ç”¨ MotionLayout</span></a></li></ul></ul></li><li><a class="is-flex" href="#MotionSceneï¼šä¼ è¯´ä¸­çš„â€œç™¾å®è¢‹â€"><span class="mr-2">3</span><span>MotionSceneï¼šä¼ è¯´ä¸­çš„â€œç™¾å®è¢‹â€</span></a></li><li><a class="is-flex" href="#KeyFrameSetï¼šè®©åŠ¨ç”»ç‹¬æ ‘ä¸€å¸œ"><span class="mr-2">4</span><span>KeyFrameSetï¼šè®©åŠ¨ç”»ç‹¬æ ‘ä¸€å¸œ</span></a></li><li><a class="is-flex" href="#å‚è€ƒå’Œæ„Ÿè°¢ï¼š"><span class="mr-2">5</span><span>å‚è€ƒå’Œæ„Ÿè°¢ï¼š</span></a></li><li><a class="is-flex" href="#æœ€å"><span class="mr-2">6</span><span>æœ€å</span></a></li></ul></div></div></div></div></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img src="/img/logo.png" alt="Hulk" height="28"></a><p class="size-small"><span>&copy; 2020 Hulk</span>Â Â Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>Â &amp;Â <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a></p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/ppoffice/hexo-theme-icarus"><i class="fab fa-github"></i></a></p></div></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script>moment.locale("zh-CN");</script><script>var IcarusThemeSettings = {
            site: {
                url: 'https://moosphan.github.io',
                external_link: {"enable":true,"exclude":[]}
            },
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script><script src="/js/animation.js"></script><a id="back-to-top" title="å›åˆ°é¡¶ç«¯" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><!--!--><script src="/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="æƒ³è¦æŸ¥æ‰¾ä»€ä¹ˆ..."></div><a class="searchbox-close" href="javascript:;">Ã—</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"æƒ³è¦æŸ¥æ‰¾ä»€ä¹ˆ...","untitled":"(æ— æ ‡é¢˜)","posts":"æ–‡ç« ","pages":"é¡µé¢","categories":"åˆ†ç±»","tags":"æ ‡ç­¾"});
        });</script></body></html>